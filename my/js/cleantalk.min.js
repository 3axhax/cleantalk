function escapeRegExp(e) {
    return e.replace(/[.*+?^${}()|[\]\\]/g, "\\$&")
}

window.Cookies = {
    contains: function (e) {
        return !!~document.cookie.indexOf(e)
    }, get: function (e) {
        var t = document.cookie.match(new RegExp("(?:^|; )" + e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g, "\\$1") + "=([^;]*)"));
        return t ? decodeURIComponent(t[1]) : void 0
    }, set: function (e, t, i) {
        i = i || {};
        var n = i.expires;
        if ("number" == typeof n && n) {
            var s = new Date;
            s.setTime(s.getTime() + 1e3 * n), n = i.expires = s
        }
        n && n.toUTCString && (i.expires = n.toUTCString()), t = encodeURIComponent(t);
        var o = e + "=" + t;
        for (var r in i) {
            o += "; " + r;
            var a = i[r];
            !0 !== a && (o += "=" + a)
        }
        document.cookie = o
    }
}, window.AJAX = {
    get: function (e, t, i, n) {
        var s = t ? this.prepare(t) : "", o = new XMLHttpRequest;
        o.open("GET", e + (s ? "?" + s : ""), !0), o.onreadystatechange = function () {
            4 == o.readyState && (200 != o.status ? n && n() : i && i(o.response))
        }, o.send()
    }, post: function (e, t, i, n) {
        var s = t ? this.prepare(t) : "", o = new XMLHttpRequest;
        o.open("POST", e, !0), o.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"), o.onreadystatechange = function () {
            4 == o.readyState && (200 != o.status ? n && n(o.response) : i && i(o.response))
        }, o.send(s)
    }, prepare: function (e) {
        var t = [];
        for (var i in e) e.hasOwnProperty(i) && t.push(encodeURIComponent(i) + "=" + encodeURIComponent(e[i]));
        return t.join("&")
    }
}, String.prototype.replaceAll = function (e, t) {
    return this.replace(new RegExp(e, "g"), t)
}, String.prototype.replaceAllSafe = function (e, t) {
    return this.replace(new RegExp(escapeRegExp(e), "g"), t)
};
var d = new Date, currentTimeZoneOffsetInHours = -d.getTimezoneOffset() / 60;
window.Cookies.set("ct_user_timezone", currentTimeZoneOffsetInHours), function () {
    window.addEventListener("load", function () {
        $(".menulangs").each(function () {
            var e = document.URL;
            if (-1 != e.indexOf("?")) {
                e = e.split("?"), e[1] = e[1].split("&");
                for (var t = [], i = 0; i < e[1].length; i++) {
                    var n = e[1][i].split("=");
                    "lang" != n[0] && t.push(n[0] + "=" + n[1])
                }
                e = t.length ? e[0] + "?" + t.join("&") + "&lang=" + $(this).attr("id") : e[0] + "?lang=" + $(this).attr("id")
            } else e += "?lang=" + $(this).attr("id");
            $(this).attr("href", e)
        })
    })
}(), function () {
    function e(e) {
        this.init(e)
    }

    e.prototype = {
        init: function (e) {
            this.products = e.products || [], this.paid_till = new Date(1e3 * e.paid_till);
            var t = document.URL;
            if (-1 != t.indexOf("?") ? (t = t.split("?"), this.baseURL = t[0]) : this.baseURL = t, e.bonus_months && e.bonus_period && (this.bonus = {
                months: e.bonus_months || 0,
                period: e.bonus_period || 0
            }), this.lang = {
                bill_date: e.l_bill_date,
                bill_months: e.l_bill_months,
                bill_text: e.l_bill_text,
                bill_comment: e.l_bill_comment,
                bill_cost_format: e.l_bill_cost_format,
                bill_cost_format_full: e.l_bill_cost_format_full,
                bill_bonus: e.l_bill_bonus,
                num: e.l_num,
                currency_hint: e.l_currency_hint
            }, this.currency = {
                sign: e.currency_sign,
                id: e.currency_id
            }, this.currency.id != e.currency_default && (this.currency_default = e.currency_default), e.currencies && (this.currencies = e.currencies, $("#currency-hint").removeClass("hidden")), this.elements = {
                product: document.getElementById(e.product_el || "product_field"),
                currency: document.getElementById(e.currency_el || "currency_field"),
                currency_hint: document.getElementById(e.currency_hint_el || "currency_hint"),
                period: document.getElementById(e.period_el || "period_field"),
                license: document.getElementById(e.license_el || "license_col"),
                stripe: document.getElementById(e.stripe_el || "stripe-form")
            }, this.elements.stripe && (this.stripe = {
                key: e.stripe_key,
                name: e.stripe_name,
                action: e.stripe_action
            }), !this.elements.period && e.period_months && e.period_title && (this.period = {
                months: e.period_months,
                title: e.period_title,
                value: e.period_value || 1,
                unit: e.period_unit || "month"
            }), this.period || (this.period = {unit: e.period_unit || "month"}), document.getElementById("pp_btn").addEventListener("click", function (e) {
                e.target.style.opacity || (e.target.style.opacity = .5, document.getElementById("charge").submit()), e.preventDefault()
            }), this.elements.product.addEventListener("change", this.update.bind(this)), this.currencies && this.elements.currency.addEventListener("change", this.update.bind(this)), this.elements.period && this.elements.period.addEventListener("change", this.update.bind(this)), this.update(), document.getElementById("bill-table").className = "", this.currencies && this.currency_default) for (var i, n = this.elements.currency.options, s = 0; i = n[s]; s++) if (i.value == this.currency_default) {
                this.elements.currency.selectedIndex = s, this.update();
                break
            }
        }, date_format: function (e) {
            var t = e.getDate();
            t < 10 && (t = "0" + t);
            var i = e.getFullYear();
            return this.lang.bill_date.replace("d", t).replace("y", i).replace("m", this.lang.bill_months[e.getMonth()])
        }, number_wc: function (e) {
            return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ")
        }, pf: function (e) {
            return parseFloat(Math.round(100 * e) / 100).toFixed(2)
        }, cost: function (e, t) {
            return e.replace(/:VALUE:/g, t).replace(":SIGN:", this.currency.sign).replace(":CURRENCY:", this.currency.id)
        }, cost_total: function (e, t, i) {
            return e.replace(/:VALUE:/g, t).replace(/:TOTAL_VALUE:/g, i).replaceAll(":SIGN:", this.currency.sign).replace(":CURRENCY:", this.currency.id)
        }, lng: function (e, t) {
            if (2 == t.length) return e > 1 ? t[1] : e ? t[0] : t[1];
            var i = [2, 0, 1, 1, 1, 2];
            return t[e % 100 > 4 && e % 100 < 20 ? 2 : i[Math.min(e % 10, 5)]]
        }, license_text: function (e) {
            return this.lang.bill_text.replace(":SERVICES:", this.number_wc(e.services)).replace(":SERVICES_TITLE:", this.lng(e.services, this.lang.num.services)).replace(":SERVICES_TITLE_2:", this.lng(e.services, this.lang.num.services2)).replace(":CALLS:", this.number_wc(e.calls)).replace(":FROM:", this.date_format(e.from)).replace(":TO:", this.date_format(e.to)).replace(":COST:", e.cost).replace(":SIGN:", e.sign).replace(":PERIOD:", e.period)
        }, license_comment: function (e) {
            return this.lang.bill_comment.replace(":SERVICES:", this.number_wc(e.services)).replace(":SERVICES_TITLE:", this.lng(e.services, this.lang.num.services)).replace(":SERVICES_TITLE_2:", this.lng(e.services, this.lang.num.services2)).replace(":CALLS:", this.number_wc(e.calls)).replace(":COST:", e.cost).replace(":SIGN:", e.sign).replace(":PERIOD:", e.period)
        }, update: function () {
            for (var e = this.elements.product.value, t = 0, i = 0, n = "USD", s = "", o = 0, r = 0, a = 0; a < this.products.length; a++) if (this.products[a].id == e) {
                t = this.products[a].cost, i = t, o = this.products[a].calls, r = this.products[a].services, s = this.products[a].sign;
                break
            }
            if ($(this.elements.currency_hint).addClass("hidden"), this.currencies && (n = this.elements.currency.value, s = this.currencies[n].sign, t = (this.currencies[n].rate * t).toFixed(2), this.currency.id != n && AJAX.get(this.baseURL, {change_currency: n}), this.currency.sign = s, this.currency.id = n, "USD" != n && ($(this.elements.currency_hint).find("td").html(this.lang.currency_hint.replace(":CURRENCY:", n)), $(this.elements.currency_hint).removeClass("hidden"))), this.elements.period) {
                var l = this.elements.period.options[this.elements.period.selectedIndex];
                this.period = {
                    months: this.elements.period.value,
                    title: $(l).data("title") || l.text,
                    value: this.elements.period.value,
                    unit: this.period.unit
                }, "year" == this.period.unit && (this.period.months = 12 * this.period.value)
            }
            document.getElementById("pp_tariff_id").value = e, document.getElementById("pp_period").value = this.period.value;
            var d, c = !1;
            this.bonus && this.period.months >= this.bonus.period ? (d = new Date(new Date(this.paid_till).setMonth(this.paid_till.getMonth() + parseInt(this.period.months) + parseInt(this.bonus.months))), c = !0) : d = new Date(new Date(this.paid_till).setMonth(this.paid_till.getMonth() + parseInt(this.period.months))), this.elements.license.innerHTML = this.license_text({
                calls: o,
                services: r,
                cost: t,
                sign: s,
                from: this.paid_till,
                to: d,
                period: this.period.title
            }), c && (this.elements.license.innerHTML += this.lang.bill_bonus), document.getElementById("months_col").innerHTML = this.period.title, document.getElementById("services_col") && (document.getElementById("services_col").innerHTML = r.toString());
            var h = this.period.value * t, u = this.license_comment({
                services: r,
                calls: o,
                cost: this.currency.sign + h,
                period: this.period.title
            });
            if (document.getElementById("cost_col").innerHTML = this.cost(this.lang.bill_cost_format, this.pf(h)), document.getElementById("total_col").innerHTML = this.cost(this.lang.bill_cost_format, h), document.getElementById("total_f") && (document.getElementById("total_f").innerHTML = this.cost_total(this.lang.bill_cost_format_full, this.pf(h), this.pf(this.period.value * i))), document.getElementById("total_fc") && (document.getElementById("total_fc").innerHTML = this.cost_total(this.lang.bill_cost_format_full, this.pf(h), this.pf(h))), this.stripe) {
                h = this.period.value * i;
                var p = document.createElement("script");
                p.src = "https://checkout.stripe.com/checkout.js", p.className = "stripe-button", p.setAttribute("data-key", this.stripe.key), p.setAttribute("data-amount", (100 * h).toString()), p.setAttribute("data-name", this.stripe.name), p.setAttribute("data-description", u.replace(/&#(\d+);?/g, function () {
                    return String.fromCharCode(arguments[1])
                })), p.setAttribute("data-image", "/images/cleantalk-logo-128.png"), this.elements.stripe.innerHTML = "", this.elements.stripe.appendChild(p), document.stripe_form.action = this.stripe.action.replace(":PERIOD:", this.period.value).replace(":PRODUCT:", e)
            }
        }
    }, window.Bill = e
}(), function () {
    function e(e) {
        this.elements = {
            buttons: {csr: $("#btn-csr"), generator: $("#btn-generator")},
            panels: {generator: $("#form-generator"), csr: $("#form-csr")},
            forms: {generator: $("#form-generator form"), csr: $("#form-csr form"), download: $("#ssl-csr-download")}
        }, this.initButtons(), this.initForms()
    }

    function t() {
        this.elements = {
            wait: $("#license-wait-block"),
            add: $("#add-cert-block"),
            view: $("#view-cert-block"),
            link: $("#view-cert-link")
        }, this.uri = "/my/bill/ssl/success", this.check()
    }

    function i(e, t) {
        this.processed = e, n = t, $('[data-toggle="tooltip"]').tooltip(), new Tablesort(document.getElementById("services-table"), {descending: !0});
        for (var i in e) e.hasOwnProperty(i) && this.checkStatus(i);
        $("#delete-modal").find(".btn-danger").click(function () {
            location.href = "/my?delete=" + $(this).data("id")
        }), $(".delete-link").click(this.deleteCert), $(".dcv-link").click(this.dcvEmail), $("#dcv-modal .btn-primary").click(function () {
            var e = $(this);
            e.hasClass("disabled") || (e.addClass("disabled"), $("#dcv-form").submit())
        }), setTimeout(function () {
            $("#flash-message").remove()
        }, 5e3)
    }

    var n = {};
    e.prototype.initButtons = function () {
        function e(o) {
            o && (s = o);
            var r = i.css("opacity");
            r > 0 ? (i.css("opacity", r - .1), setTimeout(e, 50)) : (i.addClass("hidden"), n.css("opacity", 0), n.removeClass("hidden"), t())
        }

        function t() {
            var e = parseFloat(n.css("opacity"));
            e < 1 ? (n.css("opacity", e + .1), setTimeout(t, 50)) : s && s()
        }

        var i, n, s;
        this.elements.buttons.csr.click(function () {
            this.elements.buttons.csr.hasClass("disabled") || (this.elements.buttons.csr.addClass("disabled"), i = this.elements.panels.generator, n = this.elements.panels.csr, e(function () {
                this.elements.buttons.csr.addClass("hidden").removeClass("disabled"), this.elements.buttons.generator.removeClass("hidden")
            }.bind(this)))
        }.bind(this)), this.elements.buttons.generator.click(function () {
            this.elements.buttons.generator.hasClass("disabled") || (this.elements.buttons.generator.addClass("disabled"), i = this.elements.panels.csr, n = this.elements.panels.generator, e(function () {
                this.elements.buttons.generator.addClass("hidden").removeClass("disabled"), this.elements.buttons.csr.removeClass("hidden")
            }.bind(this)))
        }.bind(this))
    }, e.prototype.initForms = function () {
        this.elements.forms.csr.validator().on("submit", function (e) {
            if (!e.isDefaultPrevented()) {
                e.preventDefault();
                var t = this.elements.forms.csr, i = t.find("button");
                i.hasClass("disabled") || (i.addClass("disabled"), t.find(".loader").removeClass("hidden"), AJAX.post("/my/service", {
                    mode: "csr",
                    data: t.find("#csr_field").val()
                }, function (e) {
                    t.find(".loader").addClass("hidden"), i.removeClass("disabled");
                    try {
                        e = JSON.parse(e)
                    } catch (e) {
                        $("#form-csr-error").html("Internal Server Error").removeClass("hidden"), setTimeout(function () {
                            $("#form-csr-error").addClass("hidden")
                        }, 15e3)
                    }
                    var n = $("#csr-modal");
                    for (var s in e.data) "object" == typeof e.data[s] && (e.data[s] = e.data[s].join(", ")), n.find("#csr-details-" + s).text(e.data[s]);
                    $("#certificate-form_csr").val(e.csr), $("#certificate-form_key").val(""), n.modal("show")
                }, function (e) {
                    t.find(".loader").addClass("hidden"), i.removeClass("disabled"), $("#form-csr-error").html(e).removeClass("hidden"), setTimeout(function () {
                        $("#form-csr-error").addClass("hidden")
                    }, 15e3)
                }))
            }
        }.bind(this)), this.elements.forms.generator.validator().on("submit", function (e) {
            if (!e.isDefaultPrevented()) {
                e.preventDefault();
                var t = this.elements.forms.generator, i = t.find("button");
                return i.hasClass("disabled") || (i.addClass("disabled"), t.find(".loader").removeClass("hidden"), AJAX.post("/my/service?cp_mode=ssl", {
                    mode: "generator",
                    common_name: t.find("#common_name_field").val(),
                    email: t.find("#email_field").val(),
                    organization: t.find("#organization_field").val(),
                    organization_unit: t.find("#organization_unit_field").val(),
                    country: t.find("#country_field").val(),
                    state: t.find("#state_field").val(),
                    state_text: t.find("#state_text_field").val(),
                    locality: t.find("#locality_field").val()
                }, function (e) {
                    t.find(".loader").addClass("hidden"), i.removeClass("disabled");
                    try {
                        e = JSON.parse(e)
                    } catch (e) {
                        $("#form-generator-error").html("Internal Server Error").removeClass("hidden"), setTimeout(function () {
                            $("#form-generator-error").addClass("hidden")
                        }, 15e3)
                    }
                    var n = $("#generator-modal");
                    for (var s in e.data) "object" == typeof e.data[s] && (e.data[s] = e.data[s].join(", ")), n.find("#tab-details-" + s).text(e.data[s]);
                    $("#details-emailAddress").text(e.data.emailAddress), $("#tab-details-csr").val(e.csr), $("#tab-details-key").val(e.key), $("#certificate-form_csr").val(e.csr), $("#certificate-form_key").val(e.key), $("#download-csr_field").val(e.csr), $("#download-key_field").val(e.key), n.modal("show")
                }, function (e) {
                    t.find(".loader").addClass("hidden"), i.removeClass("disabled"), $("#form-generator-error").html(e).removeClass("hidden"), setTimeout(function () {
                        $("#form-generator-error").addClass("hidden")
                    }, 15e3)
                })), !1
            }
        }.bind(this)), $("#tab-details-csr").focus(function () {
            function e() {
                return t.off("mouseup", e), !1
            }

            var t = $(this);
            t.select(), window.setTimeout(function () {
                t.select()
            }, 1), t.mouseup(e)
        }), $("#tab-details-key").focus(function () {
            function e() {
                return t.off("mouseup", e), !1
            }

            var t = $(this);
            t.select(), window.setTimeout(function () {
                t.select()
            }, 1), t.mouseup(e)
        }), $("#generator-send-result").change(function () {
            $("#generator-send-result").prop("checked") ? $("#certificate-form-send").val("yes") : $("#certificate-form-send").val("no")
        }), $("#generator-modal-submit").click(function () {
            var e = $("#generator-modal-submit");
            e.hasClass("disabled") || (e.addClass("disabled"), $("#certificate-form").submit())
        }), $("#generator-modal-download").click(function () {
            var e = $("#generator-modal-download");
            e.hasClass("disabled") || (e.addClass("disabled"), $("#ssl-csr-download").submit(), setTimeout(function () {
                e.removeClass("disabled")
            }, 2e3))
        }), $("#csr-modal-submit").click(function () {
            var e = $("#csr-modal-submit");
            e.hasClass("disabled") || (e.addClass("disabled"), $("#certificate-form").submit())
        }), $("#country_field").on("changed.bs.select", function () {
            var e = $("#state_field");
            e.parent().hasClass("btn-group") && (e = e.parent()), "US" == $("#country_field").selectpicker("val") ? ($("#state_text_field").addClass("hidden"), e.removeClass("hidden")) : (e.addClass("hidden"), $("#state_text_field").removeClass("hidden"))
        }), $("#country_field").trigger("changed.bs.select")
    }, t.prototype.check = function () {
        AJAX.get(this.uri, {check: 1}, function (e) {
            e = JSON.parse(e), e ? (this.elements.wait.hide(), this.elements[e.result].removeClass("hidden"), "view" == e.result && (this.elements.link.html(this.elements.link.html().replace(":DOMAIN:", e.domain)), this.elements.link.attr("href", this.uri + "?accept=" + e.cert_id))) : setTimeout(this.check.bind(this), 5e3)
        }.bind(this), function () {
            setTimeout(this.check.bind(this), 5e3)
        })
    }, i.prototype.dcvEmail = function (e) {
        e.preventDefault();
        var t = $(this).data("id"), i = $(this).data("name");
        $("#dcv-modal-loading").removeClass("hidden"), $("#dcv-modal-content").addClass("hidden"), $("#dcv-modal-error").addClass("hidden"), $("#dcv-modal .btn-primary").addClass("disabled"), $("#dcv-modal h4").text(n.dcv_title + " " + i), $("#dcv-modal").modal("show"), AJAX.get("/my", {dcv: t}, function (e) {
            try {
                e = JSON.parse(e)
            } catch (e) {
                return $("#dcv-modal-loading").addClass("hidden"), void $("#dcv-modal-error").text("Internal Server Error").removeClass("hidden")
            }
            $("#dcv-form-id").val(t);
            for (var i = "", n = 0; n < e.length; n++) i += '<div class="radio"><label><input type="radio" name="email" value="' + e[n] + '"' + (n ? "" : " checked") + ">" + e[n] + "</label></div>";
            $("#dcv-modal-loading").addClass("hidden"), $("#dcv-form div").html(i), $("#dcv-modal-content").removeClass("hidden"), $("#dcv-modal .btn-primary").removeClass("disabled")
        }, function () {
            $("#dcv-modal-loading").addClass("hidden"), $("#dcv-modal-error").text("Internal Server Error").removeClass("hidden")
        })
    }, i.prototype.deleteCert = function (e) {
        e.preventDefault();
        var t = $(this).data("id");
        $("#delete-modal").find(".btn-danger").data("id", t), $("#delete-modal").modal("show")
    }, i.prototype.checkStatus = function (e) {
        $("#cert_loading_" + e).removeClass("hidden"), AJAX.get("/my", {check: e}, function (t) {
            $("#cert_loading_" + e).addClass("hidden");
            try {
                t = JSON.parse(t)
            } catch (t) {
                return $("#cert_status_" + e).attr("class", "text-danger").text("Error"), void $("#cert_hint_" + e).html("Internal Server Error")
            }
            t.id != this.processed[e] ? (this.processed[e] = t.id, t.link ? t.allow_delete ? ($("#cert_" + e).html('<div class="row"><div class="col-xs-6" style="padding-right:5px"><a href=":LINK:" class="btn btn-block btn-sm :CLASS:">:TEXT:</a></div><div class="col-xs-6" style="padding-left:5px"><button type="button" class="btn btn-block btn-sm btn-danger" id="delete_:ID:" data-id=":ID:">Delete</button></div></div><div class="text-muted text-center br" style="font-size:12px;margin-top:5px;">:HINT:</div>'.replace(":LINK:", t.link).replace(":TEXT:", t.text).replace(":HINT:", t.hint).replace(":CLASS:", t.class).replaceAll(":ID:", e)), $("#delete_" + e).click(this.deleteCert)) : $("#cert_" + e).html('<a href=":LINK:" class="btn btn-block btn-sm :CLASS:">:TEXT:</a><div class="text-muted text-center br" style="font-size:12px;margin-top:5px;">:HINT:</div>'.replace(":LINK:", t.link).replace(":TEXT:", t.text).replace(":HINT:", t.hint).replace(":CLASS:", t.class)) : ($("#cert_" + e).html('<div class=":CLASS:">:TEXT:</div><div class="text-muted br" style="font-size:12px">:HINT:</div>'.replace(":TEXT:", t.text).replace(":HINT:", t.hint).replace(":CLASS:", t.class)), $("#cert_" + e).find(".dcv-link").click(this.dcvEmail), t.allow_delete && $("#delete_" + e).click(this.deleteCert)), $("#dcv-modal").modal("hide")) : setTimeout(function () {
                this.checkStatus(e)
            }.bind(this), 1e4)
        }.bind(this), function () {
            $("#cert_loading_" + e).addClass("hidden"), $("#cert_status_" + e).attr("class", "text-danger").text("Error"), $("#cert_hint_" + e).html("Internal Server Error")
        })
    }, window.SSLDashboard = i, window.SSLBillSuccess = t, window.SSL = e
}(), function (e, t) {
    "function" == typeof define && define.amd ? define(["jquery"], function (e) {
        return t(e)
    }) : "object" == typeof module && module.exports ? module.exports = t(require("jquery")) : t(e.jQuery)
}(this, function (e) {
    !function (e) {
        "use strict";

        function t(t) {
            var i = [{re: /[\xC0-\xC6]/g, ch: "A"}, {re: /[\xE0-\xE6]/g, ch: "a"}, {
                re: /[\xC8-\xCB]/g,
                ch: "E"
            }, {re: /[\xE8-\xEB]/g, ch: "e"}, {re: /[\xCC-\xCF]/g, ch: "I"}, {
                re: /[\xEC-\xEF]/g,
                ch: "i"
            }, {re: /[\xD2-\xD6]/g, ch: "O"}, {re: /[\xF2-\xF6]/g, ch: "o"}, {
                re: /[\xD9-\xDC]/g,
                ch: "U"
            }, {re: /[\xF9-\xFC]/g, ch: "u"}, {re: /[\xC7-\xE7]/g, ch: "c"}, {re: /[\xD1]/g, ch: "N"}, {
                re: /[\xF1]/g,
                ch: "n"
            }];
            return e.each(i, function () {
                t = t ? t.replace(this.re, this.ch) : ""
            }), t
        }

        function i(t, i) {
            var n = arguments, s = t, o = i;
            [].shift.apply(n);
            var r, a = this.each(function () {
                var t = e(this);
                if (t.is("select")) {
                    var i = t.data("selectpicker"), a = "object" == typeof s && s;
                    if (i) {
                        if (a) for (var l in a) a.hasOwnProperty(l) && (i.options[l] = a[l])
                    } else {
                        var d = e.extend({}, c.DEFAULTS, e.fn.selectpicker.defaults || {}, t.data(), a);
                        d.template = e.extend({}, c.DEFAULTS.template, e.fn.selectpicker.defaults ? e.fn.selectpicker.defaults.template : {}, t.data().template, a.template), t.data("selectpicker", i = new c(this, d, o))
                    }
                    "string" == typeof s && (r = i[s] instanceof Function ? i[s].apply(i, n) : i.options[s])
                }
            });
            return void 0 !== r ? r : a
        }

        String.prototype.includes || function () {
            var e = {}.toString, t = function () {
                try {
                    var e = {}, t = Object.defineProperty, i = t(e, e, e) && t
                } catch (e) {
                }
                return i
            }(), i = "".indexOf, n = function (t) {
                if (null == this) throw new TypeError;
                var n = String(this);
                if (t && "[object RegExp]" == e.call(t)) throw new TypeError;
                var s = n.length, o = String(t), r = o.length, a = arguments.length > 1 ? arguments[1] : void 0,
                    l = a ? Number(a) : 0;
                return l != l && (l = 0), !(r + Math.min(Math.max(l, 0), s) > s) && -1 != i.call(n, o, l)
            };
            t ? t(String.prototype, "includes", {
                value: n,
                configurable: !0,
                writable: !0
            }) : String.prototype.includes = n
        }(), String.prototype.startsWith || function () {
            var e = function () {
                try {
                    var e = {}, t = Object.defineProperty, i = t(e, e, e) && t
                } catch (e) {
                }
                return i
            }(), t = {}.toString, i = function (e) {
                if (null == this) throw new TypeError;
                var i = String(this);
                if (e && "[object RegExp]" == t.call(e)) throw new TypeError;
                var n = i.length, s = String(e), o = s.length, r = arguments.length > 1 ? arguments[1] : void 0,
                    a = r ? Number(r) : 0;
                a != a && (a = 0);
                var l = Math.min(Math.max(a, 0), n);
                if (o + l > n) return !1;
                for (var d = -1; ++d < o;) if (i.charCodeAt(l + d) != s.charCodeAt(d)) return !1;
                return !0
            };
            e ? e(String.prototype, "startsWith", {
                value: i,
                configurable: !0,
                writable: !0
            }) : String.prototype.startsWith = i
        }(), Object.keys || (Object.keys = function (e, t, i) {
            i = [];
            for (t in e) i.hasOwnProperty.call(e, t) && i.push(t);
            return i
        });
        var n = {useDefault: !1, _set: e.valHooks.select.set};
        e.valHooks.select.set = function (t, i) {
            return i && !n.useDefault && e(t).data("selected", !0), n._set.apply(this, arguments)
        };
        var s = null;
        e.fn.triggerNative = function (e) {
            var t, i = this[0];
            i.dispatchEvent ? ("function" == typeof Event ? t = new Event(e, {bubbles: !0}) : (t = document.createEvent("Event"), t.initEvent(e, !0, !1)), i.dispatchEvent(t)) : i.fireEvent ? (t = document.createEventObject(), t.eventType = e, i.fireEvent("on" + e, t)) : this.trigger(e)
        }, e.expr.pseudos.icontains = function (t, i, n) {
            var s = e(t);
            return (s.data("tokens") || s.text()).toString().toUpperCase().includes(n[3].toUpperCase())
        }, e.expr.pseudos.ibegins = function (t, i, n) {
            var s = e(t);
            return (s.data("tokens") || s.text()).toString().toUpperCase().startsWith(n[3].toUpperCase())
        }, e.expr.pseudos.aicontains = function (t, i, n) {
            var s = e(t);
            return (s.data("tokens") || s.data("normalizedText") || s.text()).toString().toUpperCase().includes(n[3].toUpperCase())
        }, e.expr.pseudos.aibegins = function (t, i, n) {
            var s = e(t);
            return (s.data("tokens") || s.data("normalizedText") || s.text()).toString().toUpperCase().startsWith(n[3].toUpperCase())
        };
        var o = {"&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#x27;", "`": "&#x60;"},
            r = {"&amp;": "&", "&lt;": "<", "&gt;": ">", "&quot;": '"', "&#x27;": "'", "&#x60;": "`"},
            a = function (e) {
                var t = function (t) {
                    return e[t]
                }, i = "(?:" + Object.keys(e).join("|") + ")", n = RegExp(i), s = RegExp(i, "g");
                return function (e) {
                    return e = null == e ? "" : "" + e, n.test(e) ? e.replace(s, t) : e
                }
            }, l = a(o), d = a(r), c = function (t, i, s) {
                n.useDefault || (e.valHooks.select.set = n._set, n.useDefault = !0), s && (s.stopPropagation(), s.preventDefault()), this.$element = e(t), this.$newElement = null, this.$button = null, this.$menu = null, this.$lis = null, this.options = i, null === this.options.title && (this.options.title = this.$element.attr("title"));
                var o = this.options.windowPadding;
                "number" == typeof o && (this.options.windowPadding = [o, o, o, o]), this.val = c.prototype.val, this.render = c.prototype.render, this.refresh = c.prototype.refresh, this.setStyle = c.prototype.setStyle, this.selectAll = c.prototype.selectAll, this.deselectAll = c.prototype.deselectAll, this.destroy = c.prototype.destroy, this.remove = c.prototype.remove, this.show = c.prototype.show, this.hide = c.prototype.hide, this.init()
            };
        c.VERSION = "1.12.0", c.DEFAULTS = {
            noneSelectedText: "Nothing selected",
            noneResultsText: "No results matched {0}",
            countSelectedText: function (e, t) {
                return 1 == e ? "{0} item selected" : "{0} items selected"
            },
            maxOptionsText: function (e, t) {
                return [1 == e ? "Limit reached ({n} item max)" : "Limit reached ({n} items max)", 1 == t ? "Group limit reached ({n} item max)" : "Group limit reached ({n} items max)"]
            },
            selectAllText: "Select All",
            deselectAllText: "Deselect All",
            doneButton: !1,
            doneButtonText: "Close",
            multipleSeparator: ", ",
            styleBase: "btn",
            style: "btn-default",
            size: "auto",
            title: null,
            selectedTextFormat: "values",
            width: !1,
            container: !1,
            hideDisabled: !1,
            showSubtext: !1,
            showIcon: !0,
            showContent: !0,
            dropupAuto: !0,
            header: !1,
            liveSearch: !1,
            liveSearchPlaceholder: null,
            liveSearchNormalize: !1,
            liveSearchStyle: "contains",
            actionsBox: !1,
            iconBase: "glyphicon",
            tickIcon: "glyphicon-ok",
            showTick: !1,
            template: {caret: '<span class="caret"></span>'},
            maxOptions: !1,
            mobile: !1,
            selectOnTab: !1,
            dropdownAlignRight: !1,
            windowPadding: 0
        }, c.prototype = {
            constructor: c, init: function () {
                var t = this, i = this.$element.attr("id");
                this.$element.addClass("bs-select-hidden"), this.liObj = {}, this.multiple = this.$element.prop("multiple"), this.autofocus = this.$element.prop("autofocus"), this.$newElement = this.createView(), this.$element.after(this.$newElement).appendTo(this.$newElement), this.$button = this.$newElement.children("button"), this.$menu = this.$newElement.children(".dropdown-menu"), this.$menuInner = this.$menu.children(".inner"), this.$searchbox = this.$menu.find("input"), this.$element.removeClass("bs-select-hidden"), !0 === this.options.dropdownAlignRight && this.$menu.addClass("dropdown-menu-right"), void 0 !== i && (this.$button.attr("data-id", i), e('label[for="' + i + '"]').click(function (e) {
                    e.preventDefault(), t.$button.focus()
                })), this.checkDisabled(), this.clickListener(), this.options.liveSearch && this.liveSearchListener(), this.render(), this.setStyle(), this.setWidth(), this.options.container && this.selectPosition(), this.$menu.data("this", this), this.$newElement.data("this", this), this.options.mobile && this.mobile(), this.$newElement.on({
                    "hide.bs.dropdown": function (e) {
                        t.$menuInner.attr("aria-expanded", !1), t.$element.trigger("hide.bs.select", e)
                    }, "hidden.bs.dropdown": function (e) {
                        t.$element.trigger("hidden.bs.select", e)
                    }, "show.bs.dropdown": function (e) {
                        t.$menuInner.attr("aria-expanded", !0), t.$element.trigger("show.bs.select", e)
                    }, "shown.bs.dropdown": function (e) {
                        t.$element.trigger("shown.bs.select", e)
                    }
                }), t.$element[0].hasAttribute("required") && this.$element.on("invalid", function () {
                    t.$button.addClass("bs-invalid").focus(), t.$element.on({
                        "focus.bs.select": function () {
                            t.$button.focus(), t.$element.off("focus.bs.select")
                        }, "shown.bs.select": function () {
                            t.$element.val(t.$element.val()).off("shown.bs.select")
                        }, "rendered.bs.select": function () {
                            this.validity.valid && t.$button.removeClass("bs-invalid"), t.$element.off("rendered.bs.select")
                        }
                    })
                }), setTimeout(function () {
                    t.$element.trigger("loaded.bs.select")
                })
            }, createDropdown: function () {
                var t = this.multiple || this.options.showTick ? " show-tick" : "",
                    i = this.$element.parent().hasClass("input-group") ? " input-group-btn" : "",
                    n = this.autofocus ? " autofocus" : "",
                    s = this.options.header ? '<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>' + this.options.header + "</div>" : "",
                    o = this.options.liveSearch ? '<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"' + (null === this.options.liveSearchPlaceholder ? "" : ' placeholder="' + l(this.options.liveSearchPlaceholder) + '"') + ' role="textbox" aria-label="Search"></div>' : "",
                    r = this.multiple && this.options.actionsBox ? '<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">' + this.options.selectAllText + '</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">' + this.options.deselectAllText + "</button></div></div>" : "",
                    a = this.multiple && this.options.doneButton ? '<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">' + this.options.doneButtonText + "</button></div></div>" : "",
                    d = '<div class="btn-group bootstrap-select' + t + i + '"><button type="button" class="' + this.options.styleBase + ' dropdown-toggle" data-toggle="dropdown"' + n + ' role="button"><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">' + this.options.template.caret + '</span></button><div class="dropdown-menu open" role="combobox">' + s + o + r + '<ul class="dropdown-menu inner" role="listbox" aria-expanded="false"></ul>' + a + "</div></div>";
                return e(d)
            }, createView: function () {
                var e = this.createDropdown(), t = this.createLi();
                return e.find("ul")[0].innerHTML = t, e
            }, reloadLi: function () {
                var e = this.createLi();
                this.$menuInner[0].innerHTML = e
            }, createLi: function () {
                var i = this, n = [], s = 0, o = document.createElement("option"), r = -1, a = function (e, t, i, n) {
                    return "<li" + (void 0 !== i & "" !== i ? ' class="' + i + '"' : "") + (void 0 !== t & null !== t ? ' data-original-index="' + t + '"' : "") + (void 0 !== n & null !== n ? 'data-optgroup="' + n + '"' : "") + ">" + e + "</li>"
                }, d = function (n, s, o, r) {
                    return '<a tabindex="0"' + (void 0 !== s ? ' class="' + s + '"' : "") + (o ? ' style="' + o + '"' : "") + (i.options.liveSearchNormalize ? ' data-normalized-text="' + t(l(e(n).html())) + '"' : "") + (void 0 !== r || null !== r ? ' data-tokens="' + r + '"' : "") + ' role="option">' + n + '<span class="' + i.options.iconBase + " " + i.options.tickIcon + ' check-mark"></span></a>'
                };
                if (this.options.title && !this.multiple && (r--, !this.$element.find(".bs-title-option").length)) {
                    var c = this.$element[0];
                    o.className = "bs-title-option", o.innerHTML = this.options.title, o.value = "", c.insertBefore(o, c.firstChild);
                    void 0 === e(c.options[c.selectedIndex]).attr("selected") && void 0 === this.$element.data("selected") && (o.selected = !0)
                }
                return this.$element.find("option").each(function (t) {
                    var o = e(this);
                    if (r++, !o.hasClass("bs-title-option")) {
                        var c = this.className || "", h = this.style.cssText,
                            u = o.data("content") ? o.data("content") : o.html(),
                            p = o.data("tokens") ? o.data("tokens") : null,
                            m = void 0 !== o.data("subtext") ? '<small class="text-muted">' + o.data("subtext") + "</small>" : "",
                            f = void 0 !== o.data("icon") ? '<span class="' + i.options.iconBase + " " + o.data("icon") + '"></span> ' : "",
                            g = o.parent(), v = "OPTGROUP" === g[0].tagName, b = v && g[0].disabled,
                            y = this.disabled || b;
                        if ("" !== f && y && (f = "<span>" + f + "</span>"), i.options.hideDisabled && (y && !v || b)) return void r--;
                        if (o.data("content") || (u = f + '<span class="text">' + u + m + "</span>"), v && !0 !== o.data("divider")) {
                            if (i.options.hideDisabled && y) {
                                if (void 0 === g.data("allOptionsDisabled")) {
                                    var w = g.children();
                                    g.data("allOptionsDisabled", w.filter(":disabled").length === w.length)
                                }
                                if (g.data("allOptionsDisabled")) return void r--
                            }
                            var x = " " + g[0].className || "";
                            if (0 === o.index()) {
                                s += 1;
                                var $ = g[0].label,
                                    C = void 0 !== g.data("subtext") ? '<small class="text-muted">' + g.data("subtext") + "</small>" : "";
                                $ = (g.data("icon") ? '<span class="' + i.options.iconBase + " " + g.data("icon") + '"></span> ' : "") + '<span class="text">' + l($) + C + "</span>", 0 !== t && n.length > 0 && (r++, n.push(a("", null, "divider", s + "div"))), r++, n.push(a($, null, "dropdown-header" + x, s))
                            }
                            if (i.options.hideDisabled && y) return void r--;
                            n.push(a(d(u, "opt " + c + x, h, p), t, "", s))
                        } else if (!0 === o.data("divider")) n.push(a("", t, "divider")); else if (!0 === o.data("hidden")) n.push(a(d(u, c, h, p), t, "hidden is-hidden")); else {
                            var k = this.previousElementSibling && "OPTGROUP" === this.previousElementSibling.tagName;
                            if (!k && i.options.hideDisabled) for (var E = e(this).prevAll(), _ = 0; _ < E.length; _++) if ("OPTGROUP" === E[_].tagName) {
                                for (var S = 0, F = 0; F < _; F++) {
                                    var T = E[F];
                                    (T.disabled || !0 === e(T).data("hidden")) && S++
                                }
                                S === _ && (k = !0);
                                break
                            }
                            k && (r++, n.push(a("", null, "divider", s + "div"))), n.push(a(d(u, c, h, p), t))
                        }
                        i.liObj[t] = r
                    }
                }), this.multiple || 0 !== this.$element.find("option:selected").length || this.options.title || this.$element.find("option").eq(0).prop("selected", !0).attr("selected", "selected"), n.join("")
            }, findLis: function () {
                return null == this.$lis && (this.$lis = this.$menu.find("li")), this.$lis
            }, render: function (t) {
                var i, n = this;
                !1 !== t && this.$element.find("option").each(function (e) {
                    var t = n.findLis().eq(n.liObj[e]);
                    n.setDisabled(e, this.disabled || "OPTGROUP" === this.parentNode.tagName && this.parentNode.disabled, t), n.setSelected(e, this.selected, t)
                }), this.togglePlaceholder(), this.tabIndex();
                var s = this.$element.find("option").map(function () {
                    if (this.selected) {
                        if (n.options.hideDisabled && (this.disabled || "OPTGROUP" === this.parentNode.tagName && this.parentNode.disabled)) return;
                        var t, i = e(this),
                            s = i.data("icon") && n.options.showIcon ? '<i class="' + n.options.iconBase + " " + i.data("icon") + '"></i> ' : "";
                        return t = n.options.showSubtext && i.data("subtext") && !n.multiple ? ' <small class="text-muted">' + i.data("subtext") + "</small>" : "", void 0 !== i.attr("title") ? i.attr("title") : i.data("content") && n.options.showContent ? i.data("content").toString() : s + i.html() + t
                    }
                }).toArray(), o = this.multiple ? s.join(this.options.multipleSeparator) : s[0];
                if (this.multiple && this.options.selectedTextFormat.indexOf("count") > -1) {
                    var r = this.options.selectedTextFormat.split(">");
                    if (r.length > 1 && s.length > r[1] || 1 == r.length && s.length >= 2) {
                        i = this.options.hideDisabled ? ", [disabled]" : "";
                        var a = this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]' + i).length;
                        o = ("function" == typeof this.options.countSelectedText ? this.options.countSelectedText(s.length, a) : this.options.countSelectedText).replace("{0}", s.length.toString()).replace("{1}", a.toString())
                    }
                }
                void 0 == this.options.title && (this.options.title = this.$element.attr("title")), "static" == this.options.selectedTextFormat && (o = this.options.title), o || (o = void 0 !== this.options.title ? this.options.title : this.options.noneSelectedText), this.$button.attr("title", d(e.trim(o.replace(/<[^>]*>?/g, "")))), this.$button.children(".filter-option").html(o), this.$element.trigger("rendered.bs.select")
            }, setStyle: function (e, t) {
                this.$element.attr("class") && this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi, ""));
                var i = e || this.options.style;
                "add" == t ? this.$button.addClass(i) : "remove" == t ? this.$button.removeClass(i) : (this.$button.removeClass(this.options.style), this.$button.addClass(i))
            }, liHeight: function (t) {
                if (t || !1 !== this.options.size && !this.sizeInfo) {
                    var i = document.createElement("div"), n = document.createElement("div"),
                        s = document.createElement("ul"), o = document.createElement("li"),
                        r = document.createElement("li"), a = document.createElement("a"),
                        l = document.createElement("span"),
                        d = this.options.header && this.$menu.find(".popover-title").length > 0 ? this.$menu.find(".popover-title")[0].cloneNode(!0) : null,
                        c = this.options.liveSearch ? document.createElement("div") : null,
                        h = this.options.actionsBox && this.multiple && this.$menu.find(".bs-actionsbox").length > 0 ? this.$menu.find(".bs-actionsbox")[0].cloneNode(!0) : null,
                        u = this.options.doneButton && this.multiple && this.$menu.find(".bs-donebutton").length > 0 ? this.$menu.find(".bs-donebutton")[0].cloneNode(!0) : null;
                    if (l.className = "text", i.className = this.$menu[0].parentNode.className + " open", n.className = "dropdown-menu open", s.className = "dropdown-menu inner", o.className = "divider", l.appendChild(document.createTextNode("Inner text")), a.appendChild(l), r.appendChild(a), s.appendChild(r), s.appendChild(o), d && n.appendChild(d), c) {
                        var p = document.createElement("span");
                        c.className = "bs-searchbox", p.className = "form-control", c.appendChild(p), n.appendChild(c)
                    }
                    h && n.appendChild(h), n.appendChild(s), u && n.appendChild(u), i.appendChild(n), document.body.appendChild(i);
                    var m = a.offsetHeight, f = d ? d.offsetHeight : 0, g = c ? c.offsetHeight : 0,
                        v = h ? h.offsetHeight : 0, b = u ? u.offsetHeight : 0, y = e(o).outerHeight(!0),
                        w = "function" == typeof getComputedStyle && getComputedStyle(n), x = w ? null : e(n), $ = {
                            vert: parseInt(w ? w.paddingTop : x.css("paddingTop")) + parseInt(w ? w.paddingBottom : x.css("paddingBottom")) + parseInt(w ? w.borderTopWidth : x.css("borderTopWidth")) + parseInt(w ? w.borderBottomWidth : x.css("borderBottomWidth")),
                            horiz: parseInt(w ? w.paddingLeft : x.css("paddingLeft")) + parseInt(w ? w.paddingRight : x.css("paddingRight")) + parseInt(w ? w.borderLeftWidth : x.css("borderLeftWidth")) + parseInt(w ? w.borderRightWidth : x.css("borderRightWidth"))
                        }, C = {
                            vert: $.vert + parseInt(w ? w.marginTop : x.css("marginTop")) + parseInt(w ? w.marginBottom : x.css("marginBottom")) + 2,
                            horiz: $.horiz + parseInt(w ? w.marginLeft : x.css("marginLeft")) + parseInt(w ? w.marginRight : x.css("marginRight")) + 2
                        };
                    document.body.removeChild(i), this.sizeInfo = {
                        liHeight: m,
                        headerHeight: f,
                        searchHeight: g,
                        actionsHeight: v,
                        doneButtonHeight: b,
                        dividerHeight: y,
                        menuPadding: $,
                        menuExtras: C
                    }
                }
            }, setSize: function () {
                if (this.findLis(), this.liHeight(), this.options.header && this.$menu.css("padding-top", 0), !1 !== this.options.size) {
                    var t, i, n, s, o, r, a, l, d = this, c = this.$menu, h = this.$menuInner, u = e(window),
                        p = this.$newElement[0].offsetHeight, m = this.$newElement[0].offsetWidth,
                        f = this.sizeInfo.liHeight, g = this.sizeInfo.headerHeight, v = this.sizeInfo.searchHeight,
                        b = this.sizeInfo.actionsHeight, y = this.sizeInfo.doneButtonHeight,
                        w = this.sizeInfo.dividerHeight, x = this.sizeInfo.menuPadding, $ = this.sizeInfo.menuExtras,
                        C = this.options.hideDisabled ? ".disabled" : "", k = function () {
                            var t, i = d.$newElement.offset(), n = e(d.options.container);
                            d.options.container && !n.is("body") ? (t = n.offset(), t.top += parseInt(n.css("borderTopWidth")), t.left += parseInt(n.css("borderLeftWidth"))) : t = {
                                top: 0,
                                left: 0
                            };
                            var s = d.options.windowPadding;
                            o = i.top - t.top - u.scrollTop(), r = u.height() - o - p - t.top - s[2], a = i.left - t.left - u.scrollLeft(), l = u.width() - a - m - t.left - s[1], o -= s[0], a -= s[3]
                        };
                    if (k(), "auto" === this.options.size) {
                        var E = function () {
                            var u, p = function (t, i) {
                                    return function (n) {
                                        return i ? n.classList ? n.classList.contains(t) : e(n).hasClass(t) : !(n.classList ? n.classList.contains(t) : e(n).hasClass(t))
                                    }
                                }, w = d.$menuInner[0].getElementsByTagName("li"),
                                C = Array.prototype.filter ? Array.prototype.filter.call(w, p("hidden", !1)) : d.$lis.not(".hidden"),
                                E = Array.prototype.filter ? Array.prototype.filter.call(C, p("dropdown-header", !0)) : C.filter(".dropdown-header");
                            k(), t = r - $.vert, i = l - $.horiz, d.options.container ? (c.data("height") || c.data("height", c.height()), n = c.data("height"), c.data("width") || c.data("width", c.width()), s = c.data("width")) : (n = c.height(), s = c.width()), d.options.dropupAuto && d.$newElement.toggleClass("dropup", o > r && t - $.vert < n), d.$newElement.hasClass("dropup") && (t = o - $.vert), "auto" === d.options.dropdownAlignRight && c.toggleClass("dropdown-menu-right", a > l && i - $.horiz < s - m), u = C.length + E.length > 3 ? 3 * f + $.vert - 2 : 0, c.css({
                                "max-height": t + "px",
                                overflow: "hidden",
                                "min-height": u + g + v + b + y + "px"
                            }), h.css({
                                "max-height": t - g - v - b - y - x.vert + "px",
                                "overflow-y": "auto",
                                "overflow-x": "hidden",
                                "min-height": Math.max(u - x.vert, 0) + "px"
                            })
                        };
                        E(), this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize", E), u.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize", E)
                    } else if (this.options.size && "auto" != this.options.size && this.$lis.not(C).length > this.options.size) {
                        var _ = this.$lis.not(".divider").not(C).children().slice(0, this.options.size).last().parent().index(),
                            S = this.$lis.slice(0, _ + 1).filter(".divider").length;
                        t = f * this.options.size + S * w + x.vert, d.options.container ? (c.data("height") || c.data("height", c.height()), n = c.data("height")) : n = c.height(), d.options.dropupAuto && this.$newElement.toggleClass("dropup", o > r && t - $.vert < n), c.css({
                            "max-height": t + g + v + b + y + "px",
                            overflow: "hidden",
                            "min-height": ""
                        }), h.css({
                            "max-height": t - x.vert + "px",
                            "overflow-y": "auto",
                            "overflow-x": "hidden",
                            "min-height": ""
                        })
                    }
                }
            }, setWidth: function () {
                if ("auto" === this.options.width) {
                    this.$menu.css("min-width", "0");
                    var e = this.$menu.parent().clone().appendTo("body"),
                        t = this.options.container ? this.$newElement.clone().appendTo("body") : e,
                        i = e.children(".dropdown-menu").outerWidth(),
                        n = t.css("width", "auto").children("button").outerWidth();
                    e.remove(), t.remove(), this.$newElement.css("width", Math.max(i, n) + "px")
                } else "fit" === this.options.width ? (this.$menu.css("min-width", ""), this.$newElement.css("width", "").addClass("fit-width")) : this.options.width ? (this.$menu.css("min-width", ""), this.$newElement.css("width", this.options.width)) : (this.$menu.css("min-width", ""), this.$newElement.css("width", ""));
                this.$newElement.hasClass("fit-width") && "fit" !== this.options.width && this.$newElement.removeClass("fit-width")
            }, selectPosition: function () {
                this.$bsContainer = e('<div class="bs-container" />');
                var t, i, n, s = this, o = e(this.options.container), r = function (e) {
                    s.$bsContainer.addClass(e.attr("class").replace(/form-control|fit-width/gi, "")).toggleClass("dropup", e.hasClass("dropup")), t = e.offset(), o.is("body") ? i = {
                        top: 0,
                        left: 0
                    } : (i = o.offset(), i.top += parseInt(o.css("borderTopWidth")) - o.scrollTop(), i.left += parseInt(o.css("borderLeftWidth")) - o.scrollLeft()), n = e.hasClass("dropup") ? 0 : e[0].offsetHeight, s.$bsContainer.css({
                        top: t.top - i.top + n,
                        left: t.left - i.left,
                        width: e[0].offsetWidth
                    })
                };
                this.$button.on("click", function () {
                    var t = e(this);
                    s.isDisabled() || (r(s.$newElement), s.$bsContainer.appendTo(s.options.container).toggleClass("open", !t.hasClass("open")).append(s.$menu))
                }), e(window).on("resize scroll", function () {
                    r(s.$newElement)
                }), this.$element.on("hide.bs.select", function () {
                    s.$menu.data("height", s.$menu.height()), s.$bsContainer.detach()
                })
            }, setSelected: function (e, t, i) {
                i || (this.togglePlaceholder(), i = this.findLis().eq(this.liObj[e])), i.toggleClass("selected", t).find("a").attr("aria-selected", t)
            }, setDisabled: function (e, t, i) {
                i || (i = this.findLis().eq(this.liObj[e])), t ? i.addClass("disabled").children("a").attr("href", "#").attr("tabindex", -1).attr("aria-disabled", !0) : i.removeClass("disabled").children("a").removeAttr("href").attr("tabindex", 0).attr("aria-disabled", !1)
            }, isDisabled: function () {
                return this.$element[0].disabled
            }, checkDisabled: function () {
                var e = this;
                this.isDisabled() ? (this.$newElement.addClass("disabled"), this.$button.addClass("disabled").attr("tabindex", -1).attr("aria-disabled", !0)) : (this.$button.hasClass("disabled") && (this.$newElement.removeClass("disabled"), this.$button.removeClass("disabled").attr("aria-disabled", !1)), -1 != this.$button.attr("tabindex") || this.$element.data("tabindex") || this.$button.removeAttr("tabindex")), this.$button.click(function () {
                    return !e.isDisabled()
                })
            }, togglePlaceholder: function () {
                var e = this.$element.val();
                this.$button.toggleClass("bs-placeholder", null === e || "" === e || e.constructor === Array && 0 === e.length)
            }, tabIndex: function () {
                this.$element.data("tabindex") !== this.$element.attr("tabindex") && -98 !== this.$element.attr("tabindex") && "-98" !== this.$element.attr("tabindex") && (this.$element.data("tabindex", this.$element.attr("tabindex")), this.$button.attr("tabindex", this.$element.data("tabindex"))), this.$element.attr("tabindex", -98)
            }, clickListener: function () {
                var t = this, i = e(document);
                i.data("spaceSelect", !1), this.$button.on("keyup", function (e) {
                    /(32)/.test(e.keyCode.toString(10)) && i.data("spaceSelect") && (e.preventDefault(), i.data("spaceSelect", !1))
                }), this.$button.on("click", function () {
                    t.setSize()
                }), this.$element.on("shown.bs.select", function () {
                    if (t.options.liveSearch || t.multiple) {
                        if (!t.multiple) {
                            var e = t.liObj[t.$element[0].selectedIndex];
                            if ("number" != typeof e || !1 === t.options.size) return;
                            var i = t.$lis.eq(e)[0].offsetTop - t.$menuInner[0].offsetTop;
                            i = i - t.$menuInner[0].offsetHeight / 2 + t.sizeInfo.liHeight / 2, t.$menuInner[0].scrollTop = i
                        }
                    } else t.$menuInner.find(".selected a").focus()
                }), this.$menuInner.on("click", "li a", function (i) {
                    var n = e(this), o = n.parent().data("originalIndex"), r = t.$element.val(),
                        a = t.$element.prop("selectedIndex"), l = !0;
                    if (t.multiple && 1 !== t.options.maxOptions && i.stopPropagation(), i.preventDefault(), !t.isDisabled() && !n.parent().hasClass("disabled")) {
                        var d = t.$element.find("option"), c = d.eq(o), h = c.prop("selected"),
                            u = c.parent("optgroup"), p = t.options.maxOptions, m = u.data("maxOptions") || !1;
                        if (t.multiple) {
                            if (c.prop("selected", !h), t.setSelected(o, !h), n.blur(), !1 !== p || !1 !== m) {
                                var f = p < d.filter(":selected").length, g = m < u.find("option:selected").length;
                                if (p && f || m && g) if (p && 1 == p) d.prop("selected", !1), c.prop("selected", !0), t.$menuInner.find(".selected").removeClass("selected"), t.setSelected(o, !0); else if (m && 1 == m) {
                                    u.find("option:selected").prop("selected", !1), c.prop("selected", !0);
                                    var v = n.parent().data("optgroup");
                                    t.$menuInner.find('[data-optgroup="' + v + '"]').removeClass("selected"), t.setSelected(o, !0)
                                } else {
                                    var b = "string" == typeof t.options.maxOptionsText ? [t.options.maxOptionsText, t.options.maxOptionsText] : t.options.maxOptionsText,
                                        y = "function" == typeof b ? b(p, m) : b, w = y[0].replace("{n}", p),
                                        x = y[1].replace("{n}", m), $ = e('<div class="notify"></div>');
                                    y[2] && (w = w.replace("{var}", y[2][p > 1 ? 0 : 1]), x = x.replace("{var}", y[2][m > 1 ? 0 : 1])), c.prop("selected", !1), t.$menu.append($), p && f && ($.append(e("<div>" + w + "</div>")), l = !1, t.$element.trigger("maxReached.bs.select")), m && g && ($.append(e("<div>" + x + "</div>")), l = !1, t.$element.trigger("maxReachedGrp.bs.select")), setTimeout(function () {
                                        t.setSelected(o, !1)
                                    }, 10), $.delay(750).fadeOut(300, function () {
                                        e(this).remove()
                                    })
                                }
                            }
                        } else d.prop("selected", !1), c.prop("selected", !0), t.$menuInner.find(".selected").removeClass("selected").find("a").attr("aria-selected", !1), t.setSelected(o, !0);
                        !t.multiple || t.multiple && 1 === t.options.maxOptions ? t.$button.focus() : t.options.liveSearch && t.$searchbox.focus(), l && (r != t.$element.val() && t.multiple || a != t.$element.prop("selectedIndex") && !t.multiple) && (s = [o, c.prop("selected"), h], t.$element.triggerNative("change"))
                    }
                }), this.$menu.on("click", "li.disabled a, .popover-title, .popover-title :not(.close)", function (i) {
                    i.currentTarget == this && (i.preventDefault(), i.stopPropagation(), t.options.liveSearch && !e(i.target).hasClass("close") ? t.$searchbox.focus() : t.$button.focus())
                }), this.$menuInner.on("click", ".divider, .dropdown-header", function (e) {
                    e.preventDefault(), e.stopPropagation(), t.options.liveSearch ? t.$searchbox.focus() : t.$button.focus()
                }), this.$menu.on("click", ".popover-title .close", function () {
                    t.$button.click()
                }), this.$searchbox.on("click", function (e) {
                    e.stopPropagation()
                }), this.$menu.on("click", ".actions-btn", function (i) {
                    t.options.liveSearch ? t.$searchbox.focus() : t.$button.focus(), i.preventDefault(), i.stopPropagation(), e(this).hasClass("bs-select-all") ? t.selectAll() : t.deselectAll()
                }), this.$element.change(function () {
                    t.render(!1), t.$element.trigger("changed.bs.select", s), s = null
                })
            }, liveSearchListener: function () {
                var i = this, n = e('<li class="no-results"></li>');
                this.$button.on("click.dropdown.data-api", function () {
                    i.$menuInner.find(".active").removeClass("active"), i.$searchbox.val() && (i.$searchbox.val(""), i.$lis.not(".is-hidden").removeClass("hidden"), n.parent().length && n.remove()), i.multiple || i.$menuInner.find(".selected").addClass("active"), setTimeout(function () {
                        i.$searchbox.focus()
                    }, 10)
                }), this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api", function (e) {
                    e.stopPropagation()
                }), this.$searchbox.on("input propertychange", function () {
                    if (i.$lis.not(".is-hidden").removeClass("hidden"), i.$lis.filter(".active").removeClass("active"), n.remove(), i.$searchbox.val()) {
                        var s, o = i.$lis.not(".is-hidden, .divider, .dropdown-header");
                        if (s = i.options.liveSearchNormalize ? o.not(":a" + i._searchStyle() + '("' + t(i.$searchbox.val()) + '")') : o.not(":" + i._searchStyle() + '("' + i.$searchbox.val() + '")'), s.length === o.length) n.html(i.options.noneResultsText.replace("{0}", '"' + l(i.$searchbox.val()) + '"')), i.$menuInner.append(n), i.$lis.addClass("hidden"); else {
                            s.addClass("hidden");
                            var r, a = i.$lis.not(".hidden");
                            a.each(function (t) {
                                var i = e(this);
                                i.hasClass("divider") ? void 0 === r ? i.addClass("hidden") : (r && r.addClass("hidden"), r = i) : i.hasClass("dropdown-header") && a.eq(t + 1).data("optgroup") !== i.data("optgroup") ? i.addClass("hidden") : r = null
                            }), r && r.addClass("hidden"), o.not(".hidden").first().addClass("active")
                        }
                    }
                })
            }, _searchStyle: function () {
                return {begins: "ibegins", startsWith: "ibegins"}[this.options.liveSearchStyle] || "icontains"
            }, val: function (e) {
                return void 0 !== e ? (this.$element.val(e), this.render(), this.$element) : this.$element.val()
            }, changeAll: function (t) {
                if (this.multiple) {
                    void 0 === t && (t = !0), this.findLis();
                    var i = this.$element.find("option"),
                        n = this.$lis.not(".divider, .dropdown-header, .disabled, .hidden"), s = n.length, o = [];
                    if (t) {
                        if (n.filter(".selected").length === n.length) return
                    } else if (0 === n.filter(".selected").length) return;
                    n.toggleClass("selected", t);
                    for (var r = 0; r < s; r++) {
                        var a = n[r].getAttribute("data-original-index");
                        o[o.length] = i.eq(a)[0]
                    }
                    e(o).prop("selected", t), this.render(!1), this.togglePlaceholder(), this.$element.triggerNative("change")
                }
            }, selectAll: function () {
                return this.changeAll(!0)
            }, deselectAll: function () {
                return this.changeAll(!1)
            }, toggle: function (e) {
                e = e || window.event, e && e.stopPropagation(), this.$button.trigger("click")
            }, keydown: function (i) {
                var n, s, o, r, a, l, d, c, h, u = e(this), p = u.is("input") ? u.parent().parent() : u.parent(),
                    m = p.data("this"), f = ":not(.disabled, .hidden, .dropdown-header, .divider)", g = {
                        32: " ",
                        48: "0",
                        49: "1",
                        50: "2",
                        51: "3",
                        52: "4",
                        53: "5",
                        54: "6",
                        55: "7",
                        56: "8",
                        57: "9",
                        59: ";",
                        65: "a",
                        66: "b",
                        67: "c",
                        68: "d",
                        69: "e",
                        70: "f",
                        71: "g",
                        72: "h",
                        73: "i",
                        74: "j",
                        75: "k",
                        76: "l",
                        77: "m",
                        78: "n",
                        79: "o",
                        80: "p",
                        81: "q",
                        82: "r",
                        83: "s",
                        84: "t",
                        85: "u",
                        86: "v",
                        87: "w",
                        88: "x",
                        89: "y",
                        90: "z",
                        96: "0",
                        97: "1",
                        98: "2",
                        99: "3",
                        100: "4",
                        101: "5",
                        102: "6",
                        103: "7",
                        104: "8",
                        105: "9"
                    };
                if (m.options.liveSearch && (p = u.parent().parent()), m.options.container && (p = m.$menu), n = e('[role="listbox"] li', p), !(h = m.$newElement.hasClass("open")) && (i.keyCode >= 48 && i.keyCode <= 57 || i.keyCode >= 96 && i.keyCode <= 105 || i.keyCode >= 65 && i.keyCode <= 90)) return m.options.container ? m.$button.trigger("click") : (m.setSize(), m.$menu.parent().addClass("open"), h = !0), void m.$searchbox.focus();
                if (m.options.liveSearch && (/(^9$|27)/.test(i.keyCode.toString(10)) && h && (i.preventDefault(), i.stopPropagation(), m.$menuInner.click(), m.$button.focus()), n = e('[role="listbox"] li' + f, p), u.val() || /(38|40)/.test(i.keyCode.toString(10)) || 0 === n.filter(".active").length && (n = m.$menuInner.find("li"), n = m.options.liveSearchNormalize ? n.filter(":a" + m._searchStyle() + "(" + t(g[i.keyCode]) + ")") : n.filter(":" + m._searchStyle() + "(" + g[i.keyCode] + ")"))), n.length) {
                    if (/(38|40)/.test(i.keyCode.toString(10))) s = n.index(n.find("a").filter(":focus").parent()), r = n.filter(f).first().index(), a = n.filter(f).last().index(), o = n.eq(s).nextAll(f).eq(0).index(), l = n.eq(s).prevAll(f).eq(0).index(), d = n.eq(o).prevAll(f).eq(0).index(), m.options.liveSearch && (n.each(function (t) {
                        e(this).hasClass("disabled") || e(this).data("index", t)
                    }), s = n.index(n.filter(".active")), r = n.first().data("index"), a = n.last().data("index"), o = n.eq(s).nextAll().eq(0).data("index"), l = n.eq(s).prevAll().eq(0).data("index"), d = n.eq(o).prevAll().eq(0).data("index")), c = u.data("prevIndex"), 38 == i.keyCode ? (m.options.liveSearch && s--, s != d && s > l && (s = l), s < r && (s = r), s == c && (s = a)) : 40 == i.keyCode && (m.options.liveSearch && s++, -1 == s && (s = 0), s != d && s < o && (s = o), s > a && (s = a), s == c && (s = r)), u.data("prevIndex", s), m.options.liveSearch ? (i.preventDefault(), u.hasClass("dropdown-toggle") || (n.removeClass("active").eq(s).addClass("active").children("a").focus(), u.focus())) : n.eq(s).children("a").focus(); else if (!u.is("input")) {
                        var v, b, y = [];
                        n.each(function () {
                            e(this).hasClass("disabled") || e.trim(e(this).children("a").text().toLowerCase()).substring(0, 1) == g[i.keyCode] && y.push(e(this).index())
                        }), v = e(document).data("keycount"), v++, e(document).data("keycount", v), b = e.trim(e(":focus").text().toLowerCase()).substring(0, 1), b != g[i.keyCode] ? (v = 1, e(document).data("keycount", v)) : v >= y.length && (e(document).data("keycount", 0), v > y.length && (v = 1)), n.eq(y[v - 1]).children("a").focus()
                    }
                    if ((/(13|32)/.test(i.keyCode.toString(10)) || /(^9$)/.test(i.keyCode.toString(10)) && m.options.selectOnTab) && h) {
                        if (/(32)/.test(i.keyCode.toString(10)) || i.preventDefault(), m.options.liveSearch) /(32)/.test(i.keyCode.toString(10)) || (m.$menuInner.find(".active a").click(), u.focus()); else {
                            var w = e(":focus");
                            w.click(), w.focus(), i.preventDefault(), e(document).data("spaceSelect", !0)
                        }
                        e(document).data("keycount", 0)
                    }
                    (/(^9$|27)/.test(i.keyCode.toString(10)) && h && (m.multiple || m.options.liveSearch) || /(27)/.test(i.keyCode.toString(10)) && !h) && (m.$menu.parent().removeClass("open"), m.options.container && m.$newElement.removeClass("open"), m.$button.focus())
                }
            }, mobile: function () {
                this.$element.addClass("mobile-device")
            }, refresh: function () {
                this.$lis = null, this.liObj = {}, this.reloadLi(), this.render(), this.checkDisabled(), this.liHeight(!0), this.setStyle(), this.setWidth(), this.$lis && this.$searchbox.trigger("propertychange"), this.$element.trigger("refreshed.bs.select")
            }, hide: function () {
                this.$newElement.hide()
            }, show: function () {
                this.$newElement.show()
            }, remove: function () {
                this.$newElement.remove(), this.$element.remove()
            }, destroy: function () {
                this.$newElement.before(this.$element).remove(), this.$bsContainer ? this.$bsContainer.remove() : this.$menu.remove(), this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")
            }
        };
        var h = e.fn.selectpicker;
        e.fn.selectpicker = i, e.fn.selectpicker.Constructor = c, e.fn.selectpicker.noConflict = function () {
            return e.fn.selectpicker = h, this
        }, e(document).data("keycount", 0).on("keydown.bs.select", '.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input', c.prototype.keydown).on("focusin.modal", '.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="listbox"], .bs-searchbox input', function (e) {
            e.stopPropagation()
        }), e(window).on("load.bs.select.data-api", function () {
            e(".selectpicker").each(function () {
                var t = e(this);
                i.call(t, t.data())
            })
        })
    }(e)
}), function () {
    var e, t, i, n, s, o, r, a, l = [].slice, d = {}.hasOwnProperty, c = function (e, t) {
        function i() {
            this.constructor = e
        }

        for (var n in t) d.call(t, n) && (e[n] = t[n]);
        return i.prototype = t.prototype, e.prototype = new i, e.__super__ = t.prototype, e
    };
    r = function () {
    }, t = function () {
        function e() {
        }

        return e.prototype.addEventListener = e.prototype.on, e.prototype.on = function (e, t) {
            return this._callbacks = this._callbacks || {}, this._callbacks[e] || (this._callbacks[e] = []), this._callbacks[e].push(t), this
        }, e.prototype.emit = function () {
            var e, t, i, n, s, o;
            if (n = arguments[0], e = 2 <= arguments.length ? l.call(arguments, 1) : [], this._callbacks = this._callbacks || {}, i = this._callbacks[n]) for (s = 0, o = i.length; s < o; s++) t = i[s], t.apply(this, e);
            return this
        }, e.prototype.removeListener = e.prototype.off, e.prototype.removeAllListeners = e.prototype.off, e.prototype.removeEventListener = e.prototype.off, e.prototype.off = function (e, t) {
            var i, n, s, o;
            if (!this._callbacks || 0 === arguments.length) return this._callbacks = {}, this;
            if (!(i = this._callbacks[e])) return this;
            if (1 === arguments.length) return delete this._callbacks[e], this;
            for (n = s = 0, o = i.length; s < o; n = ++s) if (i[n] === t) {
                i.splice(n, 1);
                break
            }
            return this
        }, e
    }(), e = function (e) {
        function i(e, t) {
            var s, o, r;
            if (this.element = e, this.version = i.version, this.defaultOptions.previewTemplate = this.defaultOptions.previewTemplate.replace(/\n*/g, ""), this.clickableElements = [], this.listeners = [], this.files = [], "string" == typeof this.element && (this.element = document.querySelector(this.element)), !this.element || null == this.element.nodeType) throw new Error("Invalid dropzone element.");
            if (this.element.dropzone) throw new Error("Dropzone already attached.");
            if (i.instances.push(this), this.element.dropzone = this, s = null != (r = i.optionsForElement(this.element)) ? r : {}, this.options = n({}, this.defaultOptions, s, null != t ? t : {}), this.options.forceFallback || !i.isBrowserSupported()) return this.options.fallback.call(this);
            if (null == this.options.url && (this.options.url = this.element.getAttribute("action")), !this.options.url) throw new Error("No URL provided.");
            if (this.options.acceptedFiles && this.options.acceptedMimeTypes) throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");
            this.options.acceptedMimeTypes && (this.options.acceptedFiles = this.options.acceptedMimeTypes, delete this.options.acceptedMimeTypes), this.options.method = this.options.method.toUpperCase(), (o = this.getExistingFallback()) && o.parentNode && o.parentNode.removeChild(o), !1 !== this.options.previewsContainer && (this.options.previewsContainer ? this.previewsContainer = i.getElement(this.options.previewsContainer, "previewsContainer") : this.previewsContainer = this.element), this.options.clickable && (!0 === this.options.clickable ? this.clickableElements = [this.element] : this.clickableElements = i.getElements(this.options.clickable, "clickable")), this.init()
        }

        var n, s;
        return c(i, e), i.prototype.Emitter = t, i.prototype.events = ["drop", "dragstart", "dragend", "dragenter", "dragover", "dragleave", "addedfile", "addedfiles", "removedfile", "thumbnail", "error", "errormultiple", "processing", "processingmultiple", "uploadprogress", "totaluploadprogress", "sending", "sendingmultiple", "success", "successmultiple", "canceled", "canceledmultiple", "complete", "completemultiple", "reset", "maxfilesexceeded", "maxfilesreached", "queuecomplete"], i.prototype.defaultOptions = {
            url: null,
            method: "post",
            withCredentials: !1,
            parallelUploads: 2,
            uploadMultiple: !1,
            maxFilesize: 256,
            paramName: "file",
            createImageThumbnails: !0,
            maxThumbnailFilesize: 10,
            thumbnailWidth: 120,
            thumbnailHeight: 120,
            filesizeBase: 1e3,
            maxFiles: null,
            params: {},
            clickable: !0,
            ignoreHiddenFiles: !0,
            acceptedFiles: null,
            acceptedMimeTypes: null,
            autoProcessQueue: !0,
            autoQueue: !0,
            addRemoveLinks: !1,
            previewsContainer: null,
            hiddenInputContainer: "body",
            capture: null,
            renameFilename: null,
            dictDefaultMessage: "Drop files here to upload",
            dictFallbackMessage: "Your browser does not support drag'n'drop file uploads.",
            dictFallbackText: "Please use the fallback form below to upload your files like in the olden days.",
            dictFileTooBig: "File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",
            dictInvalidFileType: "You can't upload files of this type.",
            dictResponseError: "Server responded with {{statusCode}} code.",
            dictCancelUpload: "Cancel upload",
            dictCancelUploadConfirmation: "Are you sure you want to cancel this upload?",
            dictRemoveFile: "Remove file",
            dictRemoveFileConfirmation: null,
            dictMaxFilesExceeded: "You can not upload any more files.",
            accept: function (e, t) {
                return t()
            },
            init: function () {
                return r
            },
            forceFallback: !1,
            fallback: function () {
                var e, t, n, s, o, r;
                for (this.element.className = this.element.className + " dz-browser-not-supported", r = this.element.getElementsByTagName("div"), s = 0, o = r.length; s < o; s++) e = r[s], /(^| )dz-message($| )/.test(e.className) && (t = e, e.className = "dz-message");
                return t || (t = i.createElement('<div class="dz-message"><span></span></div>'), this.element.appendChild(t)), n = t.getElementsByTagName("span")[0], n && (null != n.textContent ? n.textContent = this.options.dictFallbackMessage : null != n.innerText && (n.innerText = this.options.dictFallbackMessage)), this.element.appendChild(this.getFallbackForm())
            },
            resize: function (e) {
                var t, i, n;
                return t = {
                    srcX: 0,
                    srcY: 0,
                    srcWidth: e.width,
                    srcHeight: e.height
                }, i = e.width / e.height, t.optWidth = this.options.thumbnailWidth, t.optHeight = this.options.thumbnailHeight, null == t.optWidth && null == t.optHeight ? (t.optWidth = t.srcWidth, t.optHeight = t.srcHeight) : null == t.optWidth ? t.optWidth = i * t.optHeight : null == t.optHeight && (t.optHeight = 1 / i * t.optWidth), n = t.optWidth / t.optHeight, e.height < t.optHeight || e.width < t.optWidth ? (t.trgHeight = t.srcHeight, t.trgWidth = t.srcWidth) : i > n ? (t.srcHeight = e.height, t.srcWidth = t.srcHeight * n) : (t.srcWidth = e.width, t.srcHeight = t.srcWidth / n), t.srcX = (e.width - t.srcWidth) / 2, t.srcY = (e.height - t.srcHeight) / 2, t
            },
            drop: function (e) {
                return this.element.classList.remove("dz-drag-hover")
            },
            dragstart: r,
            dragend: function (e) {
                return this.element.classList.remove("dz-drag-hover")
            },
            dragenter: function (e) {
                return this.element.classList.add("dz-drag-hover")
            },
            dragover: function (e) {
                return this.element.classList.add("dz-drag-hover")
            },
            dragleave: function (e) {
                return this.element.classList.remove("dz-drag-hover")
            },
            paste: r,
            reset: function () {
                return this.element.classList.remove("dz-started")
            },
            addedfile: function (e) {
                var t, n, s, o, r, a, l, d, c, h, u, p, m;
                if (this.element === this.previewsContainer && this.element.classList.add("dz-started"), this.previewsContainer) {
                    for (e.previewElement = i.createElement(this.options.previewTemplate.trim()), e.previewTemplate = e.previewElement, this.previewsContainer.appendChild(e.previewElement), h = e.previewElement.querySelectorAll("[data-dz-name]"), o = 0, l = h.length; o < l; o++) t = h[o], t.textContent = this._renameFilename(e.name);
                    for (u = e.previewElement.querySelectorAll("[data-dz-size]"), r = 0, d = u.length; r < d; r++) t = u[r], t.innerHTML = this.filesize(e.size);
                    for (this.options.addRemoveLinks && (e._removeLink = i.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>' + this.options.dictRemoveFile + "</a>"), e.previewElement.appendChild(e._removeLink)), n = function (t) {
                        return function (n) {
                            return n.preventDefault(), n.stopPropagation(), e.status === i.UPLOADING ? i.confirm(t.options.dictCancelUploadConfirmation, function () {
                                return t.removeFile(e)
                            }) : t.options.dictRemoveFileConfirmation ? i.confirm(t.options.dictRemoveFileConfirmation, function () {
                                return t.removeFile(e)
                            }) : t.removeFile(e)
                        }
                    }(this), p = e.previewElement.querySelectorAll("[data-dz-remove]"), m = [], a = 0, c = p.length; a < c; a++) s = p[a], m.push(s.addEventListener("click", n));
                    return m
                }
            },
            removedfile: function (e) {
                var t;
                return e.previewElement && null != (t = e.previewElement) && t.parentNode.removeChild(e.previewElement), this._updateMaxFilesReachedClass()
            },
            thumbnail: function (e, t) {
                var i, n, s, o;
                if (e.previewElement) {
                    for (e.previewElement.classList.remove("dz-file-preview"), o = e.previewElement.querySelectorAll("[data-dz-thumbnail]"), n = 0, s = o.length; n < s; n++) i = o[n], i.alt = e.name, i.src = t;
                    return setTimeout(function (t) {
                        return function () {
                            return e.previewElement.classList.add("dz-image-preview")
                        }
                    }(), 1)
                }
            },
            error: function (e, t) {
                var i, n, s, o, r;
                if (e.previewElement) {
                    for (e.previewElement.classList.add("dz-error"), "String" != typeof t && t.error && (t = t.error), o = e.previewElement.querySelectorAll("[data-dz-errormessage]"), r = [], n = 0, s = o.length; n < s; n++) i = o[n], r.push(i.textContent = t);
                    return r
                }
            },
            errormultiple: r,
            processing: function (e) {
                if (e.previewElement && (e.previewElement.classList.add("dz-processing"), e._removeLink)) return e._removeLink.textContent = this.options.dictCancelUpload
            },
            processingmultiple: r,
            uploadprogress: function (e, t, i) {
                var n, s, o, r, a;
                if (e.previewElement) {
                    for (r = e.previewElement.querySelectorAll("[data-dz-uploadprogress]"), a = [], s = 0, o = r.length; s < o; s++) n = r[s], "PROGRESS" === n.nodeName ? a.push(n.value = t) : a.push(n.style.width = t + "%");
                    return a
                }
            },
            totaluploadprogress: r,
            sending: r,
            sendingmultiple: r,
            success: function (e) {
                if (e.previewElement) return e.previewElement.classList.add("dz-success")
            },
            successmultiple: r,
            canceled: function (e) {
                return this.emit("error", e, "Upload canceled.")
            },
            canceledmultiple: r,
            complete: function (e) {
                if (e._removeLink && (e._removeLink.textContent = this.options.dictRemoveFile), e.previewElement) return e.previewElement.classList.add("dz-complete")
            },
            completemultiple: r,
            maxfilesexceeded: r,
            maxfilesreached: r,
            queuecomplete: r,
            addedfiles: r,
            previewTemplate: '<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'
        }, n = function () {
            var e, t, i, n, s, o, r;
            for (n = arguments[0], i = 2 <= arguments.length ? l.call(arguments, 1) : [], o = 0, r = i.length; o < r; o++) {
                t = i[o];
                for (e in t) s = t[e], n[e] = s
            }
            return n
        }, i.prototype.getAcceptedFiles = function () {
            var e, t, i, n, s;
            for (n = this.files, s = [], t = 0, i = n.length; t < i; t++) e = n[t], e.accepted && s.push(e);
            return s
        }, i.prototype.getRejectedFiles = function () {
            var e, t, i, n, s;
            for (n = this.files, s = [], t = 0, i = n.length; t < i; t++) e = n[t], e.accepted || s.push(e);
            return s
        }, i.prototype.getFilesWithStatus = function (e) {
            var t, i, n, s, o;
            for (s = this.files, o = [], i = 0, n = s.length; i < n; i++) t = s[i], t.status === e && o.push(t);
            return o
        }, i.prototype.getQueuedFiles = function () {
            return this.getFilesWithStatus(i.QUEUED)
        }, i.prototype.getUploadingFiles = function () {
            return this.getFilesWithStatus(i.UPLOADING)
        }, i.prototype.getAddedFiles = function () {
            return this.getFilesWithStatus(i.ADDED)
        }, i.prototype.getActiveFiles = function () {
            var e, t, n, s, o;
            for (s = this.files, o = [], t = 0, n = s.length; t < n; t++) e = s[t], e.status !== i.UPLOADING && e.status !== i.QUEUED || o.push(e);
            return o
        }, i.prototype.init = function () {
            var e, t, n, s, o, r, a;
            for ("form" === this.element.tagName && this.element.setAttribute("enctype", "multipart/form-data"), this.element.classList.contains("dropzone") && !this.element.querySelector(".dz-message") && this.element.appendChild(i.createElement('<div class="dz-default dz-message"><span>' + this.options.dictDefaultMessage + "</span></div>")), this.clickableElements.length && (n = function (e) {
                return function () {
                    return e.hiddenFileInput && e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput), e.hiddenFileInput = document.createElement("input"), e.hiddenFileInput.setAttribute("type", "file"), (null == e.options.maxFiles || e.options.maxFiles > 1) && e.hiddenFileInput.setAttribute("multiple", "multiple"), e.hiddenFileInput.className = "dz-hidden-input", null != e.options.acceptedFiles && e.hiddenFileInput.setAttribute("accept", e.options.acceptedFiles), null != e.options.capture && e.hiddenFileInput.setAttribute("capture", e.options.capture), e.hiddenFileInput.style.visibility = "hidden", e.hiddenFileInput.style.position = "absolute", e.hiddenFileInput.style.top = "0", e.hiddenFileInput.style.left = "0", e.hiddenFileInput.style.height = "0", e.hiddenFileInput.style.width = "0", document.querySelector(e.options.hiddenInputContainer).appendChild(e.hiddenFileInput), e.hiddenFileInput.addEventListener("change", function () {
                        var t, i, s, o;
                        if (i = e.hiddenFileInput.files, i.length) for (s = 0, o = i.length; s < o; s++) t = i[s], e.addFile(t);
                        return e.emit("addedfiles", i), n()
                    })
                }
            }(this))(), this.URL = null != (r = window.URL) ? r : window.webkitURL, a = this.events, s = 0, o = a.length; s < o; s++) e = a[s], this.on(e, this.options[e]);
            return this.on("uploadprogress", function (e) {
                return function () {
                    return e.updateTotalUploadProgress()
                }
            }(this)), this.on("removedfile", function (e) {
                return function () {
                    return e.updateTotalUploadProgress()
                }
            }(this)), this.on("canceled", function (e) {
                return function (t) {
                    return e.emit("complete", t)
                }
            }(this)), this.on("complete", function (e) {
                return function (t) {
                    if (0 === e.getAddedFiles().length && 0 === e.getUploadingFiles().length && 0 === e.getQueuedFiles().length) return setTimeout(function () {
                        return e.emit("queuecomplete")
                    }, 0)
                }
            }(this)), t = function (e) {
                return e.stopPropagation(), e.preventDefault ? e.preventDefault() : e.returnValue = !1
            }, this.listeners = [{
                element: this.element, events: {
                    dragstart: function (e) {
                        return function (t) {
                            return e.emit("dragstart", t)
                        }
                    }(this), dragenter: function (e) {
                        return function (i) {
                            return t(i), e.emit("dragenter", i)
                        }
                    }(this), dragover: function (e) {
                        return function (i) {
                            var n;
                            try {
                                n = i.dataTransfer.effectAllowed
                            } catch (e) {
                            }
                            return i.dataTransfer.dropEffect = "move" === n || "linkMove" === n ? "move" : "copy", t(i), e.emit("dragover", i)
                        }
                    }(this), dragleave: function (e) {
                        return function (t) {
                            return e.emit("dragleave", t)
                        }
                    }(this), drop: function (e) {
                        return function (i) {
                            return t(i), e.drop(i)
                        }
                    }(this), dragend: function (e) {
                        return function (t) {
                            return e.emit("dragend", t)
                        }
                    }(this)
                }
            }], this.clickableElements.forEach(function (e) {
                return function (t) {
                    return e.listeners.push({
                        element: t, events: {
                            click: function (n) {
                                return (t !== e.element || n.target === e.element || i.elementInside(n.target, e.element.querySelector(".dz-message"))) && e.hiddenFileInput.click(), !0
                            }
                        }
                    })
                }
            }(this)), this.enable(), this.options.init.call(this)
        }, i.prototype.destroy = function () {
            var e;
            return this.disable(), this.removeAllFiles(!0), (null != (e = this.hiddenFileInput) ? e.parentNode : void 0) && (this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput), this.hiddenFileInput = null), delete this.element.dropzone, i.instances.splice(i.instances.indexOf(this), 1)
        }, i.prototype.updateTotalUploadProgress = function () {
            var e, t, i, n, s, o, r, a;
            if (n = 0, i = 0, e = this.getActiveFiles(), e.length) {
                for (a = this.getActiveFiles(), o = 0, r = a.length; o < r; o++) t = a[o], n += t.upload.bytesSent, i += t.upload.total;
                s = 100 * n / i
            } else s = 100;
            return this.emit("totaluploadprogress", s, i, n)
        }, i.prototype._getParamName = function (e) {
            return "function" == typeof this.options.paramName ? this.options.paramName(e) : this.options.paramName + (this.options.uploadMultiple ? "[" + e + "]" : "")
        }, i.prototype._renameFilename = function (e) {
            return "function" != typeof this.options.renameFilename ? e : this.options.renameFilename(e)
        }, i.prototype.getFallbackForm = function () {
            var e, t, n, s;
            return (e = this.getExistingFallback()) ? e : (n = '<div class="dz-fallback">', this.options.dictFallbackText && (n += "<p>" + this.options.dictFallbackText + "</p>"), n += '<input type="file" name="' + this._getParamName(0) + '" ' + (this.options.uploadMultiple ? 'multiple="multiple"' : void 0) + ' /><input type="submit" value="Upload!"></div>', t = i.createElement(n), "FORM" !== this.element.tagName ? (s = i.createElement('<form action="' + this.options.url + '" enctype="multipart/form-data" method="' + this.options.method + '"></form>'), s.appendChild(t)) : (this.element.setAttribute("enctype", "multipart/form-data"), this.element.setAttribute("method", this.options.method)), null != s ? s : t)
        }, i.prototype.getExistingFallback = function () {
            var e, t, i, n, s, o;
            for (t = function (e) {
                var t, i, n;
                for (i = 0, n = e.length; i < n; i++) if (t = e[i], /(^| )fallback($| )/.test(t.className)) return t
            }, o = ["div", "form"], n = 0, s = o.length; n < s; n++) if (i = o[n], e = t(this.element.getElementsByTagName(i))) return e
        }, i.prototype.setupEventListeners = function () {
            var e, t, i, n, s, o, r;
            for (o = this.listeners, r = [], n = 0, s = o.length; n < s; n++) e = o[n], r.push(function () {
                var n, s;
                n = e.events, s = [];
                for (t in n) i = n[t], s.push(e.element.addEventListener(t, i, !1));
                return s
            }());
            return r
        }, i.prototype.removeEventListeners = function () {
            var e, t, i, n, s, o, r;
            for (o = this.listeners, r = [], n = 0, s = o.length; n < s; n++) e = o[n], r.push(function () {
                var n, s;
                n = e.events, s = [];
                for (t in n) i = n[t], s.push(e.element.removeEventListener(t, i, !1));
                return s
            }());
            return r
        }, i.prototype.disable = function () {
            var e, t, i, n, s;
            for (this.clickableElements.forEach(function (e) {
                return e.classList.remove("dz-clickable")
            }), this.removeEventListeners(), n = this.files, s = [], t = 0, i = n.length; t < i; t++) e = n[t], s.push(this.cancelUpload(e));
            return s
        }, i.prototype.enable = function () {
            return this.clickableElements.forEach(function (e) {
                return e.classList.add("dz-clickable")
            }), this.setupEventListeners()
        }, i.prototype.filesize = function (e) {
            var t, i, n, s, o, r, a, l;
            if (n = 0, s = "b", e > 0) {
                for (r = ["TB", "GB", "MB", "KB", "b"], i = a = 0, l = r.length; a < l; i = ++a) if (o = r[i], t = Math.pow(this.options.filesizeBase, 4 - i) / 10, e >= t) {
                    n = e / Math.pow(this.options.filesizeBase, 4 - i), s = o;
                    break
                }
                n = Math.round(10 * n) / 10
            }
            return "<strong>" + n + "</strong> " + s
        }, i.prototype._updateMaxFilesReachedClass = function () {
            return null != this.options.maxFiles && this.getAcceptedFiles().length >= this.options.maxFiles ? (this.getAcceptedFiles().length === this.options.maxFiles && this.emit("maxfilesreached", this.files), this.element.classList.add("dz-max-files-reached")) : this.element.classList.remove("dz-max-files-reached")
        }, i.prototype.drop = function (e) {
            var t, i;
            e.dataTransfer && (this.emit("drop", e), t = e.dataTransfer.files, this.emit("addedfiles", t), t.length && (i = e.dataTransfer.items, i && i.length && null != i[0].webkitGetAsEntry ? this._addFilesFromItems(i) : this.handleFiles(t)))
        }, i.prototype.paste = function (e) {
            var t, i;
            if (null != (null != e && null != (i = e.clipboardData) ? i.items : void 0)) return this.emit("paste", e), t = e.clipboardData.items, t.length ? this._addFilesFromItems(t) : void 0
        }, i.prototype.handleFiles = function (e) {
            var t, i, n, s;
            for (s = [], i = 0, n = e.length; i < n; i++) t = e[i], s.push(this.addFile(t));
            return s
        }, i.prototype._addFilesFromItems = function (e) {
            var t, i, n, s, o;
            for (o = [], n = 0, s = e.length; n < s; n++) i = e[n], null != i.webkitGetAsEntry && (t = i.webkitGetAsEntry()) ? t.isFile ? o.push(this.addFile(i.getAsFile())) : t.isDirectory ? o.push(this._addFilesFromDirectory(t, t.name)) : o.push(void 0) : null != i.getAsFile && (null == i.kind || "file" === i.kind) ? o.push(this.addFile(i.getAsFile())) : o.push(void 0);
            return o
        }, i.prototype._addFilesFromDirectory = function (e, t) {
            var i, n, s;
            return i = e.createReader(), n = function (e) {
                return "undefined" != typeof console && null !== console && "function" == typeof console.log ? console.log(e) : void 0
            }, (s = function (e) {
                return function () {
                    return i.readEntries(function (i) {
                        var n, o, r;
                        if (i.length > 0) {
                            for (o = 0, r = i.length; o < r; o++) n = i[o], n.isFile ? n.file(function (i) {
                                if (!e.options.ignoreHiddenFiles || "." !== i.name.substring(0, 1)) return i.fullPath = t + "/" + i.name, e.addFile(i)
                            }) : n.isDirectory && e._addFilesFromDirectory(n, t + "/" + n.name);
                            s()
                        }
                        return null
                    }, n)
                }
            }(this))()
        }, i.prototype.accept = function (e, t) {
            return e.size > 1024 * this.options.maxFilesize * 1024 ? t(this.options.dictFileTooBig.replace("{{filesize}}", Math.round(e.size / 1024 / 10.24) / 100).replace("{{maxFilesize}}", this.options.maxFilesize)) : i.isValidFile(e, this.options.acceptedFiles) ? null != this.options.maxFiles && this.getAcceptedFiles().length >= this.options.maxFiles ? (t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}", this.options.maxFiles)), this.emit("maxfilesexceeded", e)) : this.options.accept.call(this, e, t) : t(this.options.dictInvalidFileType)
        }, i.prototype.addFile = function (e) {
            return e.upload = {
                progress: 0,
                total: e.size,
                bytesSent: 0
            }, this.files.push(e), e.status = i.ADDED, this.emit("addedfile", e), this._enqueueThumbnail(e), this.accept(e, function (t) {
                return function (i) {
                    return i ? (e.accepted = !1, t._errorProcessing([e], i)) : (e.accepted = !0, t.options.autoQueue && t.enqueueFile(e)), t._updateMaxFilesReachedClass()
                }
            }(this))
        }, i.prototype.enqueueFiles = function (e) {
            var t, i, n;
            for (i = 0, n = e.length; i < n; i++) t = e[i], this.enqueueFile(t);
            return null
        }, i.prototype.enqueueFile = function (e) {
            if (e.status !== i.ADDED || !0 !== e.accepted) throw new Error("This file can't be queued because it has already been processed or was rejected.");
            if (e.status = i.QUEUED, this.options.autoProcessQueue) return setTimeout(function (e) {
                return function () {
                    return e.processQueue()
                }
            }(this), 0)
        }, i.prototype._thumbnailQueue = [], i.prototype._processingThumbnail = !1, i.prototype._enqueueThumbnail = function (e) {
            if (this.options.createImageThumbnails && e.type.match(/image.*/) && e.size <= 1024 * this.options.maxThumbnailFilesize * 1024) return this._thumbnailQueue.push(e), setTimeout(function (e) {
                return function () {
                    return e._processThumbnailQueue()
                }
            }(this), 0)
        }, i.prototype._processThumbnailQueue = function () {
            if (!this._processingThumbnail && 0 !== this._thumbnailQueue.length) return this._processingThumbnail = !0, this.createThumbnail(this._thumbnailQueue.shift(), function (e) {
                return function () {
                    return e._processingThumbnail = !1, e._processThumbnailQueue()
                }
            }(this))
        }, i.prototype.removeFile = function (e) {
            if (e.status === i.UPLOADING && this.cancelUpload(e), this.files = a(this.files, e), this.emit("removedfile", e), 0 === this.files.length) return this.emit("reset")
        }, i.prototype.removeAllFiles = function (e) {
            var t, n, s, o;
            for (null == e && (e = !1), o = this.files.slice(), n = 0, s = o.length; n < s; n++) t = o[n], (t.status !== i.UPLOADING || e) && this.removeFile(t);
            return null
        }, i.prototype.createThumbnail = function (e, t) {
            var i;
            return i = new FileReader, i.onload = function (n) {
                return function () {
                    return "image/svg+xml" === e.type ? (n.emit("thumbnail", e, i.result), void(null != t && t())) : n.createThumbnailFromUrl(e, i.result, t)
                }
            }(this), i.readAsDataURL(e)
        }, i.prototype.createThumbnailFromUrl = function (e, t, i, n) {
            var s;
            return s = document.createElement("img"), n && (s.crossOrigin = n), s.onload = function (t) {
                return function () {
                    var n, r, a, l, d, c, h, u;
                    if (e.width = s.width, e.height = s.height, a = t.options.resize.call(t, e), null == a.trgWidth && (a.trgWidth = a.optWidth), null == a.trgHeight && (a.trgHeight = a.optHeight), n = document.createElement("canvas"), r = n.getContext("2d"), n.width = a.trgWidth, n.height = a.trgHeight, o(r, s, null != (d = a.srcX) ? d : 0, null != (c = a.srcY) ? c : 0, a.srcWidth, a.srcHeight, null != (h = a.trgX) ? h : 0, null != (u = a.trgY) ? u : 0, a.trgWidth, a.trgHeight), l = n.toDataURL("image/png"), t.emit("thumbnail", e, l), null != i) return i()
                }
            }(this), null != i && (s.onerror = i), s.src = t
        }, i.prototype.processQueue = function () {
            var e, t, i, n;
            if (t = this.options.parallelUploads, i = this.getUploadingFiles().length, e = i, !(i >= t) && (n = this.getQueuedFiles(), n.length > 0)) {
                if (this.options.uploadMultiple) return this.processFiles(n.slice(0, t - i));
                for (; e < t;) {
                    if (!n.length) return;
                    this.processFile(n.shift()), e++
                }
            }
        }, i.prototype.processFile = function (e) {
            return this.processFiles([e])
        }, i.prototype.processFiles = function (e) {
            var t, n, s;
            for (n = 0, s = e.length; n < s; n++) t = e[n], t.processing = !0, t.status = i.UPLOADING, this.emit("processing", t);
            return this.options.uploadMultiple && this.emit("processingmultiple", e), this.uploadFiles(e)
        }, i.prototype._getFilesWithXhr = function (e) {
            var t;
            return function () {
                var i, n, s, o;
                for (s = this.files, o = [], i = 0, n = s.length; i < n; i++) t = s[i], t.xhr === e && o.push(t);
                return o
            }.call(this)
        }, i.prototype.cancelUpload = function (e) {
            var t, n, s, o, r, a, l;
            if (e.status === i.UPLOADING) {
                for (n = this._getFilesWithXhr(e.xhr), s = 0, r = n.length; s < r; s++) t = n[s], t.status = i.CANCELED;
                for (e.xhr.abort(), o = 0, a = n.length; o < a; o++) t = n[o], this.emit("canceled", t);
                this.options.uploadMultiple && this.emit("canceledmultiple", n)
            } else (l = e.status) !== i.ADDED && l !== i.QUEUED || (e.status = i.CANCELED, this.emit("canceled", e), this.options.uploadMultiple && this.emit("canceledmultiple", [e]));
            if (this.options.autoProcessQueue) return this.processQueue()
        }, s = function () {
            var e, t;
            return t = arguments[0], e = 2 <= arguments.length ? l.call(arguments, 1) : [], "function" == typeof t ? t.apply(this, e) : t
        }, i.prototype.uploadFile = function (e) {
            return this.uploadFiles([e])
        }, i.prototype.uploadFiles = function (e) {
            var t, o, r, a, l, d, c, h, u, p, m, f, g, v, b, y, w, x, $, C, k, E, _, S, F, T, L, I, z, A, D, N, R, O;
            for ($ = new XMLHttpRequest, C = 0, S = e.length; C < S; C++) t = e[C], t.xhr = $;
            f = s(this.options.method, e), w = s(this.options.url, e), $.open(f, w, !0), $.withCredentials = !!this.options.withCredentials, b = null, r = function (i) {
                return function () {
                    var n, s, o;
                    for (o = [], n = 0, s = e.length; n < s; n++) t = e[n], o.push(i._errorProcessing(e, b || i.options.dictResponseError.replace("{{statusCode}}", $.status), $));
                    return o
                }
            }(this), y = function (i) {
                return function (n) {
                    var s, o, r, a, l, d, c, h, u;
                    if (null != n) for (o = 100 * n.loaded / n.total, r = 0, d = e.length; r < d; r++) t = e[r], t.upload = {
                        progress: o,
                        total: n.total,
                        bytesSent: n.loaded
                    }; else {
                        for (s = !0, o = 100, a = 0, c = e.length; a < c; a++) t = e[a], 100 === t.upload.progress && t.upload.bytesSent === t.upload.total || (s = !1), t.upload.progress = o, t.upload.bytesSent = t.upload.total;
                        if (s) return
                    }
                    for (u = [], l = 0, h = e.length; l < h; l++) t = e[l], u.push(i.emit("uploadprogress", t, o, t.upload.bytesSent));
                    return u
                }
            }(this), $.onload = function (t) {
                return function (n) {
                    var s;
                    if (e[0].status !== i.CANCELED && 4 === $.readyState) {
                        if (b = $.responseText, $.getResponseHeader("content-type") && ~$.getResponseHeader("content-type").indexOf("application/json")) try {
                            b = JSON.parse(b)
                        } catch (e) {
                            n = e, b = "Invalid JSON response from server."
                        }
                        return y(), 200 <= (s = $.status) && s < 300 ? t._finished(e, b, n) : r()
                    }
                }
            }(this), $.onerror = function (t) {
                return function () {
                    if (e[0].status !== i.CANCELED) return r()
                }
            }(), v = null != (z = $.upload) ? z : $, v.onprogress = y, d = {
                Accept: "application/json",
                "Cache-Control": "no-cache",
                "X-Requested-With": "XMLHttpRequest"
            }, this.options.headers && n(d, this.options.headers);
            for (a in d) (l = d[a]) && $.setRequestHeader(a, l);
            if (o = new FormData, this.options.params) {
                A = this.options.params;
                for (m in A) x = A[m], o.append(m, x)
            }
            for (k = 0, F = e.length; k < F; k++) t = e[k], this.emit("sending", t, $, o);
            if (this.options.uploadMultiple && this.emit("sendingmultiple", e, $, o), "FORM" === this.element.tagName) for (D = this.element.querySelectorAll("input, textarea, select, button"), E = 0, T = D.length; E < T; E++) if (h = D[E], u = h.getAttribute("name"), p = h.getAttribute("type"), "SELECT" === h.tagName && h.hasAttribute("multiple")) for (N = h.options, _ = 0, L = N.length; _ < L; _++) g = N[_], g.selected && o.append(u, g.value); else (!p || "checkbox" !== (R = p.toLowerCase()) && "radio" !== R || h.checked) && o.append(u, h.value);
            for (c = I = 0, O = e.length - 1; 0 <= O ? I <= O : I >= O; c = 0 <= O ? ++I : --I) o.append(this._getParamName(c), e[c], this._renameFilename(e[c].name));
            return this.submitRequest($, o, e)
        }, i.prototype.submitRequest = function (e, t, i) {
            return e.send(t)
        }, i.prototype._finished = function (e, t, n) {
            var s, o, r;
            for (o = 0, r = e.length; o < r; o++) s = e[o], s.status = i.SUCCESS, this.emit("success", s, t, n), this.emit("complete", s);
            if (this.options.uploadMultiple && (this.emit("successmultiple", e, t, n), this.emit("completemultiple", e)), this.options.autoProcessQueue) return this.processQueue()
        }, i.prototype._errorProcessing = function (e, t, n) {
            var s, o, r;
            for (o = 0, r = e.length; o < r; o++) s = e[o], s.status = i.ERROR, this.emit("error", s, t, n), this.emit("complete", s);
            if (this.options.uploadMultiple && (this.emit("errormultiple", e, t, n), this.emit("completemultiple", e)), this.options.autoProcessQueue) return this.processQueue()
        }, i
    }(t), e.version = "4.3.0", e.options = {}, e.optionsForElement = function (t) {
        return t.getAttribute("id") ? e.options[i(t.getAttribute("id"))] : void 0
    }, e.instances = [], e.forElement = function (e) {
        if ("string" == typeof e && (e = document.querySelector(e)), null == (null != e ? e.dropzone : void 0)) throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");
        return e.dropzone
    }, e.autoDiscover = !0, e.discover = function () {
        var t, i, n, s, o, r;
        for (document.querySelectorAll ? n = document.querySelectorAll(".dropzone") : (n = [], t = function (e) {
            var t, i, s, o;
            for (o = [], i = 0, s = e.length; i < s; i++) t = e[i], /(^| )dropzone($| )/.test(t.className) ? o.push(n.push(t)) : o.push(void 0);
            return o
        }, t(document.getElementsByTagName("div")), t(document.getElementsByTagName("form"))), r = [], s = 0, o = n.length; s < o; s++) i = n[s], !1 !== e.optionsForElement(i) ? r.push(new e(i)) : r.push(void 0);
        return r
    }, e.blacklistedBrowsers = [/opera.*Macintosh.*version\/12/i], e.isBrowserSupported = function () {
        var t, i, n, s, o;
        if (t = !0, window.File && window.FileReader && window.FileList && window.Blob && window.FormData && document.querySelector) if ("classList" in document.createElement("a")) for (o = e.blacklistedBrowsers, n = 0, s = o.length; n < s; n++) i = o[n], i.test(navigator.userAgent) && (t = !1); else t = !1; else t = !1;
        return t
    }, a = function (e, t) {
        var i, n, s, o;
        for (o = [], n = 0, s = e.length; n < s; n++) (i = e[n]) !== t && o.push(i);
        return o
    }, i = function (e) {
        return e.replace(/[\-_](\w)/g, function (e) {
            return e.charAt(1).toUpperCase()
        })
    }, e.createElement = function (e) {
        var t;
        return t = document.createElement("div"), t.innerHTML = e, t.childNodes[0]
    }, e.elementInside = function (e, t) {
        if (e === t) return !0;
        for (; e = e.parentNode;) if (e === t) return !0;
        return !1
    }, e.getElement = function (e, t) {
        var i;
        if ("string" == typeof e ? i = document.querySelector(e) : null != e.nodeType && (i = e), null == i) throw new Error("Invalid `" + t + "` option provided. Please provide a CSS selector or a plain HTML element.");
        return i
    }, e.getElements = function (e, t) {
        var i, n, s, o, r, a, l;
        if (e instanceof Array) {
            n = [];
            try {
                for (s = 0, r = e.length; s < r; s++) i = e[s], n.push(this.getElement(i, t))
            } catch (e) {
                e, n = null
            }
        } else if ("string" == typeof e) for (n = [], l = document.querySelectorAll(e), o = 0, a = l.length; o < a; o++) i = l[o], n.push(i); else null != e.nodeType && (n = [e]);
        if (null == n || !n.length) throw new Error("Invalid `" + t + "` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");
        return n
    }, e.confirm = function (e, t, i) {
        return window.confirm(e) ? t() : null != i ? i() : void 0
    }, e.isValidFile = function (e, t) {
        var i, n, s, o, r;
        if (!t) return !0;
        for (t = t.split(","), n = e.type, i = n.replace(/\/.*$/, ""), o = 0, r = t.length; o < r; o++) if (s = t[o], s = s.trim(), "." === s.charAt(0)) {
            if (-1 !== e.name.toLowerCase().indexOf(s.toLowerCase(), e.name.length - s.length)) return !0
        } else if (/\/\*$/.test(s)) {
            if (i === s.replace(/\/.*$/, "")) return !0
        } else if (n === s) return !0;
        return !1
    }, "undefined" != typeof jQuery && null !== jQuery && (jQuery.fn.dropzone = function (t) {
        return this.each(function () {
            return new e(this, t)
        })
    }), "undefined" != typeof module && null !== module ? module.exports = e : window.Dropzone = e, e.ADDED = "added", e.QUEUED = "queued", e.ACCEPTED = e.QUEUED, e.UPLOADING = "uploading", e.PROCESSING = e.UPLOADING, e.CANCELED = "canceled", e.ERROR = "error", e.SUCCESS = "success", s = function (e) {
        var t, i, n, s, o, r, a, l, d;
        for (e.naturalWidth, r = e.naturalHeight, i = document.createElement("canvas"), i.width = 1, i.height = r, n = i.getContext("2d"), n.drawImage(e, 0, 0), s = n.getImageData(0, 0, 1, r).data, d = 0, o = r, a = r; a > d;) t = s[4 * (a - 1) + 3], 0 === t ? o = a : d = a, a = o + d >> 1;
        return l = a / r, 0 === l ? 1 : l
    }, o = function (e, t, i, n, o, r, a, l, d, c) {
        var h;
        return h = s(t), e.drawImage(t, i, n, o, r, a, l, d, c / h)
    }, n = function (e, t) {
        var i, n, s, o, r, a, l, d, c;
        if (s = !1, c = !0, n = e.document, d = n.documentElement, i = n.addEventListener ? "addEventListener" : "attachEvent", l = n.addEventListener ? "removeEventListener" : "detachEvent", a = n.addEventListener ? "" : "on", o = function (i) {
            if ("readystatechange" !== i.type || "complete" === n.readyState) return ("load" === i.type ? e : n)[l](a + i.type, o, !1), !s && (s = !0) ? t.call(e, i.type || i) : void 0
        }, r = function () {
            try {
                d.doScroll("left")
            } catch (e) {
                return e, void setTimeout(r, 50)
            }
            return o("poll")
        }, "complete" !== n.readyState) {
            if (n.createEventObject && d.doScroll) {
                try {
                    c = !e.frameElement
                } catch (e) {
                }
                c && r()
            }
            return n[i](a + "DOMContentLoaded", o, !1), n[i](a + "readystatechange", o, !1), e[i](a + "load", o, !1)
        }
    }, e._autoDiscoverFunction = function () {
        if (e.autoDiscover) return e.discover()
    }, n(window, e._autoDiscoverFunction)
}.call(this), function (e) {
    "use strict";
    var t = function (t, i) {
        e.fn.typeahead.defaults;
        i.scrollBar && (i.items = 100, i.menu = '<ul class="typeahead dropdown-menu" style="max-height:220px;overflow:auto;"></ul>');
        var n = this;
        if (n.$element = e(t), n.options = e.extend({}, e.fn.typeahead.defaults, i), n.$menu = e(n.options.menu).insertAfter(n.$element), n.eventSupported = n.options.eventSupported || n.eventSupported, n.grepper = n.options.grepper || n.grepper, n.highlighter = n.options.highlighter || n.highlighter, n.lookup = n.options.lookup || n.lookup, n.matcher = n.options.matcher || n.matcher, n.render = n.options.render || n.render, n.onSelect = n.options.onSelect || null, n.sorter = n.options.sorter || n.sorter, n.source = n.options.source || n.source, n.displayField = n.options.displayField || n.displayField, n.valueField = n.options.valueField || n.valueField, n.autoSelect = n.options.autoSelect || n.autoSelect, n.options.ajax) {
            var s = n.options.ajax;
            "string" == typeof s ? n.ajax = e.extend({}, e.fn.typeahead.defaults.ajax, {url: s}) : ("string" == typeof s.displayField && (n.displayField = n.options.displayField = s.displayField), "string" == typeof s.valueField && (n.valueField = n.options.valueField = s.valueField), n.ajax = e.extend({}, e.fn.typeahead.defaults.ajax, s)), n.ajax.url || (n.ajax = null), n.query = ""
        } else n.source = n.options.source, n.ajax = null;
        n.shown = !1, n.listen()
    };
    t.prototype = {
        constructor: t, eventSupported: function (e) {
            var t = e in this.$element;
            return t || (this.$element.setAttribute(e, "return;"), t = "function" == typeof this.$element[e]), t
        }, select: function () {
            var e = this.$menu.find(".active");
            if (e.length) {
                var t = e.attr("data-value"), i = this.$menu.find(".active a").text();
                this.options.onSelect && this.options.onSelect({
                    value: t,
                    text: i
                }), this.$element.val(this.updater(i)).change()
            }
            return this.hide()
        }, updater: function (e) {
            return e
        }, show: function () {
            var t = e.extend({}, this.$element.position(), {height: this.$element[0].offsetHeight});
            if (this.$menu.css({top: t.top + t.height, left: t.left}), this.options.alignWidth) {
                var i = e(this.$element[0]).outerWidth();
                this.$menu.css({width: i})
            }
            return this.$menu.show(), this.shown = !0, this
        }, hide: function () {
            return this.$menu.hide(), this.shown = !1, this
        }, ajaxLookup: function () {
            function t() {
                this.ajaxToggleLoadClass(!0), this.ajax.xhr && this.ajax.xhr.abort();
                var t = this.ajax.preDispatch ? this.ajax.preDispatch(i) : {query: i};
                this.ajax.xhr = e.ajax({
                    url: this.ajax.url,
                    data: t,
                    success: e.proxy(this.ajaxSource, this),
                    type: this.ajax.method || "get",
                    dataType: "json",
                    headers: this.ajax.headers || {}
                }), this.ajax.timerId = null
            }

            var i = e.trim(this.$element.val());
            return i === this.query ? this : (this.query = i, this.ajax.timerId && (clearTimeout(this.ajax.timerId), this.ajax.timerId = null), !i || i.length < this.ajax.triggerLength ? (this.ajax.xhr && (this.ajax.xhr.abort(), this.ajax.xhr = null, this.ajaxToggleLoadClass(!1)), this.shown ? this.hide() : this) : (this.ajax.timerId = setTimeout(e.proxy(t, this), this.ajax.timeout), this))
        }, ajaxSource: function (e) {
            this.ajaxToggleLoadClass(!1);
            var t, i = this;
            if (i.ajax.xhr) return i.ajax.preProcess && (e = i.ajax.preProcess(e)), i.ajax.data = e, t = i.grepper(i.ajax.data) || [], t.length ? (i.ajax.xhr = null, i.render(t.slice(0, i.options.items)).show()) : i.shown ? i.hide() : i
        }, ajaxToggleLoadClass: function (e) {
            this.ajax.loadingClass && this.$element.toggleClass(this.ajax.loadingClass, e)
        }, lookup: function (e) {
            var t, i = this;
            if (!i.ajax) return i.query = i.$element.val(), i.query && (t = i.grepper(i.source)) ? (0 == t.length && (t[0] = {
                id: -21,
                name: "Result not Found"
            }), i.render(t.slice(0, i.options.items)).show()) : i.shown ? i.hide() : i;
            i.ajaxer()
        }, matcher: function (e) {
            return ~e.toLowerCase().indexOf(this.query.toLowerCase())
        }, sorter: function (e) {
            if (this.options.ajax) return e;
            for (var t, i = [], n = [], s = []; t = e.shift();) t.toLowerCase().indexOf(this.query.toLowerCase()) ? ~t.indexOf(this.query) ? n.push(t) : s.push(t) : i.push(t);
            return i.concat(n, s)
        }, highlighter: function (e) {
            var t = this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
            return e.replace(new RegExp("(" + t + ")", "ig"), function (e, t) {
                return "<strong>" + t + "</strong>"
            })
        }, render: function (t) {
            var i, n = this, s = "string" == typeof n.options.displayField;
            return t = e(t).map(function (t, o) {
                return "object" == typeof o ? (i = s ? o[n.options.displayField] : n.options.displayField(o), t = e(n.options.item).attr("data-value", o[n.options.valueField])) : (i = o, t = e(n.options.item).attr("data-value", o)), t.find("a").html(n.highlighter(i)), t[0]
            }), n.autoSelect && t.first().addClass("active"), this.$menu.html(t), this
        }, grepper: function (t) {
            var i, n, s = this, o = "string" == typeof s.options.displayField;
            if (!(o && t && t.length)) return null;
            if (t[0].hasOwnProperty(s.options.displayField)) i = e.grep(t, function (e) {
                return n = o ? e[s.options.displayField] : s.options.displayField(e), s.matcher(n)
            }); else {
                if ("string" != typeof t[0]) return null;
                i = e.grep(t, function (e) {
                    return s.matcher(e)
                })
            }
            return this.sorter(i)
        }, next: function (t) {
            var i = this.$menu.find(".active").removeClass("active"), n = i.next();
            if (n.length || (n = e(this.$menu.find("li")[0])), this.options.scrollBar) {
                var s = this.$menu.children("li").index(n);
                s % 8 == 0 && this.$menu.scrollTop(26 * s)
            }
            n.addClass("active")
        }, prev: function (e) {
            var t = this.$menu.find(".active").removeClass("active"), i = t.prev();
            if (i.length || (i = this.$menu.find("li").last()), this.options.scrollBar) {
                var n = this.$menu.children("li"), s = n.length - 1, o = n.index(i);
                (s - o) % 8 == 0 && this.$menu.scrollTop(26 * (o - 7))
            }
            i.addClass("active")
        }, listen: function () {
            this.$element.on("focus", e.proxy(this.focus, this)).on("blur", e.proxy(this.blur, this)).on("keypress", e.proxy(this.keypress, this)).on("keyup", e.proxy(this.keyup, this)), this.eventSupported("keydown") && this.$element.on("keydown", e.proxy(this.keydown, this)), this.$menu.on("click", e.proxy(this.click, this)).on("mouseenter", "li", e.proxy(this.mouseenter, this)).on("mouseleave", "li", e.proxy(this.mouseleave, this))
        }, move: function (e) {
            if (this.shown) {
                switch (e.keyCode) {
                    case 9:
                    case 13:
                    case 27:
                        e.preventDefault();
                        break;
                    case 38:
                        e.preventDefault(), this.prev();
                        break;
                    case 40:
                        e.preventDefault(), this.next()
                }
                e.stopPropagation()
            }
        }, keydown: function (t) {
            this.suppressKeyPressRepeat = ~e.inArray(t.keyCode, [40, 38, 9, 13, 27]), this.move(t)
        }, keypress: function (e) {
            this.suppressKeyPressRepeat || this.move(e)
        }, keyup: function (e) {
            switch (e.keyCode) {
                case 40:
                case 38:
                case 16:
                case 17:
                case 18:
                    break;
                case 9:
                case 13:
                    if (!this.shown) return;
                    this.select();
                    break;
                case 27:
                    if (!this.shown) return;
                    this.hide();
                    break;
                default:
                    this.ajax ? this.ajaxLookup() : this.lookup()
            }
            e.stopPropagation(), e.preventDefault()
        }, focus: function (e) {
            this.focused = !0
        }, blur: function (e) {
            this.focused = !1, !this.mousedover && this.shown && this.hide()
        }, click: function (e) {
            e.stopPropagation(), e.preventDefault(), this.select(), this.$element.focus()
        }, mouseenter: function (t) {
            this.mousedover = !0, this.$menu.find(".active").removeClass("active"), e(t.currentTarget).addClass("active")
        }, mouseleave: function (e) {
            this.mousedover = !1, !this.focused && this.shown && this.hide()
        }, destroy: function () {
            this.$element.off("focus", e.proxy(this.focus, this)).off("blur", e.proxy(this.blur, this)).off("keypress", e.proxy(this.keypress, this)).off("keyup", e.proxy(this.keyup, this)), this.eventSupported("keydown") && this.$element.off("keydown", e.proxy(this.keydown, this)), this.$menu.off("click", e.proxy(this.click, this)).off("mouseenter", "li", e.proxy(this.mouseenter, this)).off("mouseleave", "li", e.proxy(this.mouseleave, this)), this.$element.removeData("typeahead")
        }
    }, e.fn.typeahead = function (i) {
        return this.each(function () {
            var n = e(this), s = n.data("typeahead"), o = "object" == typeof i && i;
            s || n.data("typeahead", s = new t(this, o)), "string" == typeof i && s[i]()
        })
    }, e.fn.typeahead.defaults = {
        source: [],
        items: 10,
        scrollBar: !1,
        alignWidth: !0,
        menu: '<ul class="typeahead dropdown-menu"></ul>',
        item: '<li><a href="#"></a></li>',
        valueField: "id",
        displayField: "name",
        autoSelect: !0,
        onSelect: function () {
        },
        ajax: {
            url: null,
            timeout: 300, method: "get", triggerLength: 1, loadingClass: null, preDispatch: null, preProcess: null
        }
    }, e.fn.typeahead.Constructor = t, e(function () {
        e("body").on("focus.typeahead.data-api", '[data-provide="typeahead"]', function (t) {
            var i = e(this);
            i.data("typeahead") || (t.preventDefault(), i.typeahead(i.data()))
        })
    })
}(window.jQuery), function () {
    window.addEventListener("load", function () {
        var e = document.getElementById("annotation");
        if (e) {
            var t = e.getAttribute("data-id");
            e.getElementsByClassName("close")[0].addEventListener("click", function () {
                var i = t;
                Cookies.contains("hide_annotation") && (i = Cookies.get("hide_annotation") + "," + t), Cookies.set("hide_annotation", i, {
                    expires: 2592e3,
                    path: "/my"
                }), e.style.display = "none";
                var n = document.getElementsByClassName("with-annotation")[0];
                n.className = n.className.replace(/(?:^|\s)with\-annotation(?!\S)/g, "")
            })
        }
    })
}(), function () {
    window.addEventListener("load", function () {
        var e = document.getElementsByClassName("notification-block");
        if (e.length) {
            e = e[0];
            var t = e.getAttribute("data-id");
            e.getElementsByClassName("glyphicon-remove")[0].addEventListener("click", function () {
                Cookies.set("hide_notification", t, {expires: 2592e3, path: "/my"}), e.style.display = "none"
            })
        }
    })
}(), function () {
    function t(e) {
        this.init(e)
    }

    t.prototype = {
        init: function (e) {
            if (this.elements = {
                api_key: document.getElementById("api-key"),
                get_api_key: document.getElementById("get-api-key"),
                button: document.getElementById("api-key-button")
            }, this.lang = {api_get_key: e.l_api_get_key}, this.email = e.email, this.elements.api_key) {
                var t = this.elements.api_key.getAttribute("data-key");
                this.elements.button.addEventListener("click", function () {
                    this.elements.api_key.innerHTML = '<code style="font-size:1.2em;display:block;text-align:center">' + t + "</code>"
                }.bind(this))
            } else this.elements.get_api_key && this.elements.button.addEventListener("click", function (e) {
                ~e.target.className.indexOf("disabled") || (e.target.blur(), e.target.className += " disabled", e.target.innerHTML = this.lang.api_get_key + ' <img src="https://cdn.cleantalk.org/images/loading.gif" width="16" height="16">', this.request())
            }.bind(this))
        }, request: function () {
            var t = new XMLHttpRequest,
                i = "email=" + encodeURIComponent(this.email) + "&product_name=" + encodeURIComponent("database_api");
            t.open("GET", "/my/?get_api_key=1", !0), t.onreadystatechange = function () {
                if (4 == t.readyState) if (200 != t.status) e.target.className = "btn btn-danger disabled", e.target.innerHTML = this.lang.api_get_key + ": ERROR"; else {
                    var i = JSON.parse(t.response);
                    !i || i.error ? (e.target.className = "btn btn-danger disabled", e.target.innerHTML = this.lang.api_get_key + ": ERROR") : this.elements.get_api_key.innerHTML = '<code style="font-size:1.2em;display:block;text-align:center">' + i.data.auth_key + "</code>"
                }
            }.bind(this), t.send(i)
        }
    }, window.ApiKey = t
}(), function () {
    window.addEventListener("load", function () {
        $("#header-sub-menu").click(function (e) {
            $("#subnav").toggleClass("opened"), $(this).blur(), e.preventDefault()
        })
    })
}(), function () {
    function e() {
        this.elements = {button: $("#news-notification"), block: $("#news-block")}, this.visible = !1, this.init()
    }

    e.prototype.init = function () {
        function e() {
            t.elements.block.removeClass("show"), t.visible = !1, document.removeEventListener("click", e)
        }

        var t = this;
        this.elements.block.click(function (e) {
            e.stopPropagation()
        }), this.elements.block.find(".dismiss").each(function () {
            $(this).click(function (e) {
                var i = $(this).data("id");
                AJAX.get("/my/ajax", {action: "news_dismiss", news_id: i}, function () {
                    $("#news_" + i).remove(), t.refresh()
                }), e.preventDefault()
            })
        }), this.elements.button.click(function (i) {
            i.preventDefault(), i.stopPropagation(), t.visible ? e() : (t.elements.block.addClass("show"), t.visible = !0, t.refresh(), document.addEventListener("click", e)), $(this).blur()
        })
    }, e.prototype.refresh = function () {
        var e = 105, t = 0;
        this.elements.block.find(".news-item").each(function (i) {
            i < 2 && e < 400 && (e += $(this).height()), t++
        }), t ? (e < 400 && (e += 40), this.elements.block.css("height", e + "px"), $("#news-link .label").html(t)) : $("#news-link").remove()
    }, window.addEventListener("load", function () {
        document.getElementById("news-link") && new e
    })
}(), function () {
    function e(e) {
        new Dropzone(e, {
            maxFileSize: 5,
            clickable: !0,
            previewTemplate: '<div class="dz-preview dz-file-preview"><div class="dz-details"><div class="dz-filename"><span class="glyphicon glyphicon-file"></span> <span data-dz-name></span></div><div class="dz-size" data-dz-size></div><img data-dz-thumbnail></div><div class="dz-progress progress progress-striped active" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"><span class="dz-upload progress-bar progress-bar-success" data-dz-uploadprogress></span></div><div class="dz-success-mark"><span class="glyphicon glyphicon-ok text-success"></span></div><div class="dz-error-mark"><span class="glyphicon glyphicon-fire text-danger"></span></div><div class="dz-error-message alert alert-danger"><span data-dz-errormessage></span></div> </div>',
            init: function () {
                this.on("success", function (e, t) {
                    var i = Dropzone.createElement('<a href="#" class="btn btn-sm btn-danger">Remove file</a>'),
                        n = this;
                    i.addEventListener("click", function (i) {
                        i.preventDefault(), n.removeFile(e), $.get("/my/support?action=delete_file&file_id=" + t)
                    }), e.previewElement.appendChild(i)
                })
            }
        })
    }

    function t() {
        i = !1, n != $("#field_subject").val() && (n = $("#field_subject").val(),
            /*AJAX.get("/my/support", {
            action: "articles",
            q: n
        }, function (e) {
            if (e = JSON.parse(e), e.length) {
                $("#articles").removeClass("hidden"), $("#articles ul").html("");
                for (var t = 0; t < e.length; t++) $("#articles ul").append('<li><span class="glyphicon glyphicon-file"></span><a href="' + e[t].url + '" target="_blank">' + e[t].title + "</a></li>")
            } else $("#articles").addClass("hidden")
        })*/
            $.ajax({
                url: '/my/support',
                type: 'GET',
                data: { action: 'articles', q: n },
                beforeSend: function() {
                    $("#articles").removeClass("hidden"), $("#articles ul").html("");
                    $("#articles ul").append('<li><img src="/my/images/loading.gif" style="max-height: 16px">&nbsp;Searching for matched help articles...</li>')
                },
                success: function (data) {
                    if (e = JSON.parse(data), e.empty == 1) {
                        $("#articles").removeClass("hidden"), $("#articles ul").html("");
                        $("#articles ul").append('<li>Sory, nothing to show</li>');
                    }
                    if (e = JSON.parse(data), e.length) {
                        $("#articles").removeClass("hidden"), $("#articles ul").html("");
                        for (var t = 0; t < e.length; t++) $("#articles ul").append('<li><span class="glyphicon glyphicon-file"></span><a href="' + e[t].url + '" target="_blank">' + e[t].title + "</a></li>")
                        if (e.empty == 1) $("#articles ul").append('<li>Sory</li>');
                    }
                },
                error: function () {
                    $("#articles").addClass("hidden")
                }
            })
        )
    }

    var i = !1, n = "";
    window.addEventListener("load", function () {
        document.getElementById("support-create-form") && e("#ticket-dropzone"), document.getElementById("support-comment-form") && (e("#ticket-dropzone"), $('a[data-toggle="tooltip"]').tooltip({
            animated: "fade",
            placement: "top",
            html: !0
        }),
            tinymce.init(
                {
                    selector: "textarea",
                    menubar: !1,
                    oolbar: "bold italic underline | bullist numlist | blockquote",
                    autosave_ask_before_unload: !1,
                    max_height: 200,
                    min_height: 160,
                    height: 200,
                    content_css: "/my/css/tinymce.css?v=10112015",
                    gecko_spellcheck: true
                }
            ))
            , document.getElementById("field_subject") && $("#field_subject").keyup(function () {
            i && (clearTimeout(i), i = !1), !i && $(this).val().length > 2 && (i = setTimeout(t, 1e3))
        })
    })
}(), function () {
    function e(e, t) {
        if (document.getElementById(e + "_enable")) {
            var i = $("#" + e + "_notice");
            $("#" + e + "_enable").click(function () {
                return t.enabled ? ($(this).prop("checked") ? $("#" + e + "_additional").removeClass("hidden") : $("#" + e + "_additional").addClass("hidden"), !0) : (i.removeClass("hidden"), i.html(t.notice), t.trial || $(this).prop("checked", !1), !1)
            })
        }
    }

    function t(e) {
        var t = e.data("id"), i = $("#" + t + "_enable"), n = $("#" + t + "_enable_all"), s = i.prop("checked");
        i.change(function () {
            $(this).prop("checked") != s ? e.addClass("changed") : (e.removeClass("changed"), n.prop("checked", !1))
        })
    }

    window.AntispamService = function (i) {
        if (i) {
            for (var n in i) i.hasOwnProperty(n) && e(n, i[n]);
            $(".property-all").each(function () {
                t($(this))
            }), $("#service_change").change(function () {
                window.location.replace("/my/service?action=edit&service_id=" + $(this).val())
            }), $("#antispam-service-auth-key-button").click(function () {
                var e = $(this).attr("data-key");
                $("#antispam-service-auth-key").html('<code style="font-size:1.2em;display:block;text-align:center">' + e + "</code>")
            })
        }
        $(".auth-key-button").click(function () {
            var e = $(this).attr("data-key");
            $(this).parent().html('<code style="font-size:1.2em;display:block;text-align:center">' + e + "</code>")
        })
    }
}(), function () {
    window.ProfilePage = function (e) {
        $("#hoster_api_key_button").click(function () {
            var e = $(this).find("span");
            e.hasClass("glyphicon-eye-open") ? ($("#hoster_api_key").prop("type", "text"), $("#hoster_api_key").select(), e.removeClass("glyphicon-eye-open").addClass("glyphicon-eye-close")) : ($("#hoster_api_key").prop("type", "password"), e.removeClass("glyphicon-eye-close").addClass("glyphicon-eye-open"))
        }), $("#keep_history").click(function () {
            var t = "keep_history_45_days";
            if (e[t] && e[t].enabled) return !0;
            $("#" + t + "_notice").removeClass("hidden"), $(this).prop("checked", !1)
        })
    }
}(), function () {
    window.GrantsPage = function (e) {
        "" != $("#wrong_message").val() && ($("#mistake").html($("#wrong_message").val()), $("#mistake").show()), "" != $("#success_message").val() && ($("#success").html($("#success_message").val()), $("#success").show()), $("#new_grant_btn").click(function () {
            if (0 == $("#service_id").val() || "" == $("#account").val()) return $("#mistake").html($("#fill_message").val()), $("#mistake").show(), setTimeout(function () {
                $("#mistake").hide()
            }, 4e3), !1;
            $("#new_grant_frm").submit()
        }), $("#grants_enable").click(function (t) {
            return !(!e.grants_addon.enabled && !e.grants_addon.trial) || ($("#grants_addon_notice").show(), $("#grants_addon_notice").html(e.grants_addon.notice), t.preventDefault(), !1)
        })
    }
}(), function () {
    function e(t, i) {
        if (!(this instanceof e)) return new e(t, i);
        if (!t || "TABLE" !== t.tagName) throw new Error("Element must be a table");
        this.init(t, i || {})
    }

    var t = [], i = function (e) {
        var t;
        return window.CustomEvent && "function" == typeof window.CustomEvent ? t = new CustomEvent(e) : (t = document.createEvent("CustomEvent"), t.initCustomEvent(e, !1, !1, void 0)), t
    }, n = function (e) {
        return e.getAttribute("data-sort") || e.textContent || e.innerText || ""
    }, s = function (e, t) {
        return e = e.toLowerCase(), t = t.toLowerCase(), e === t ? 0 : e < t ? 1 : -1
    }, o = function (e, t) {
        return function (i, n) {
            var s = e(i.td, n.td);
            return 0 === s ? t ? n.index - i.index : i.index - n.index : s
        }
    };
    e.extend = function (e, i, n) {
        if ("function" != typeof i || "function" != typeof n) throw new Error("Pattern and sort must be a function");
        t.push({name: e, pattern: i, sort: n})
    }, e.prototype = {
        init: function (e, t) {
            var i, n, s, o, r = this;
            if (r.table = e, r.thead = !1, r.options = t, e.rows && e.rows.length > 0) if (e.tHead && e.tHead.rows.length > 0) {
                for (s = 0; s < e.tHead.rows.length; s++) if (e.tHead.rows[s].classList.contains("sort-row")) {
                    i = e.tHead.rows[s];
                    break
                }
                i || (i = e.tHead.rows[e.tHead.rows.length - 1]), r.thead = !0
            } else i = e.rows[0];
            if (i) {
                var a = function () {
                    r.current && r.current !== this && (r.current.classList.remove("sort-up"), r.current.classList.remove("sort-down")), r.current = this, r.sortTable(this)
                };
                for (s = 0; s < i.cells.length; s++) o = i.cells[s], o.classList.contains("no-sort") || (o.classList.add("sort-header"), o.tabindex = 0, o.addEventListener("click", a, !1), o.classList.contains("sort-default") && (n = o));
                n && (r.current = n, r.sortTable(n))
            }
        }, sortTable: function (e, r) {
            var a, l = this, d = e.cellIndex, c = s, h = "", u = [], p = l.thead ? 0 : 1,
                m = e.getAttribute("data-sort-method"), f = e.getAttribute("data-sort-order");
            if (l.table.dispatchEvent(i("beforeSort")), r ? a = e.classList.contains("sort-up") ? "sort-up" : "sort-down" : (a = e.classList.contains("sort-up") ? "sort-down" : e.classList.contains("sort-down") ? "sort-up" : "asc" === f ? "sort-down" : "desc" === f ? "sort-up" : l.options.descending ? "sort-up" : "sort-down", e.classList.remove("sort-down" === a ? "sort-up" : "sort-down"), e.classList.add(a)), !(l.table.rows.length < 2)) {
                if (!m) {
                    for (; u.length < 3 && p < l.table.tBodies[0].rows.length;) h = n(l.table.tBodies[0].rows[p].cells[d]), h = h.trim(), h.length > 0 && u.push(h), p++;
                    if (!u) return
                }
                for (p = 0; p < t.length; p++) if (h = t[p], m) {
                    if (h.name === m) {
                        c = h.sort;
                        break
                    }
                } else if (u.every(h.pattern)) {
                    c = h.sort;
                    break
                }
                for (l.col = d, p = 0; p < l.table.tBodies.length; p++) {
                    var g, v = [], b = {}, y = 0, w = 0;
                    if (!(l.table.tBodies[p].rows.length < 2)) {
                        for (g = 0; g < l.table.tBodies[p].rows.length; g++) h = l.table.tBodies[p].rows[g], h.classList.contains("no-sort") ? b[y] = h : v.push({
                            tr: h,
                            td: n(h.cells[l.col]),
                            index: y
                        }), y++;
                        for ("sort-down" === a ? (v.sort(o(c, !0)), v.reverse()) : v.sort(o(c, !1)), g = 0; g < y; g++) b[g] ? (h = b[g], w++) : h = v[g - w].tr, l.table.tBodies[p].appendChild(h)
                    }
                }
                l.table.dispatchEvent(i("afterSort"))
            }
        }, refresh: function () {
            void 0 !== this.current && this.sortTable(this.current, !0)
        }
    }, "undefined" != typeof module && module.exports ? module.exports = e : window.Tablesort = e
}(), function () {
    var e = function (e) {
        return e = e.replace(/\-/g, "/"), e = e.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/, "$1/$2/$3"), new Date(e).getTime() || -1
    };
    Tablesort.extend("date", function (t) {
        return (-1 !== t.search(/(Mon|Tue|Wed|Thu|Fri|Sat|Sun)\.?\,?\s*/i) || -1 !== t.search(/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/) || -1 !== t.search(/(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)/i)) && !isNaN(e(t))
    }, function (t, i) {
        return t = t.toLowerCase(), i = i.toLowerCase(), e(i) - e(t)
    })
}(), function () {
    var e = function (e) {
        return e.replace(/[^\-?0-9.]/g, "")
    }, t = function (e, t) {
        return e = parseFloat(e), t = parseFloat(t), e = isNaN(e) ? 0 : e, t = isNaN(t) ? 0 : t, e - t
    };
    Tablesort.extend("number", function (e) {
        return e.match(/^-?[\x24]?\d+\s*([,\.]\d{0,2})/) || e.match(/^-?\d+\s*([,\.]\d{0,2})?[\x24]/) || e.match(/^-?(\d)*-?([,\.]){0,1}-?(\d)+([E,e][\-+][\d]+)?%?$/)
    }, function (i, n) {
        return i = e(i), n = e(n), t(n, i)
    })
}(), Tablesort.extend("dotsep", function (e) {
    return /^(\d+\.)+\d+$/.test(e)
}, function (e, t) {
    e = e.split("."), t = t.split(".");
    for (var i, n, s = 0, o = e.length; s < o; s++) if (i = parseInt(e[s], 10), n = parseInt(t[s], 10), i !== n) {
        if (i > n) return -1;
        if (i < n) return 1
    }
    return 0
}), function () {
    var e = function (e, t) {
        return e = parseFloat(e), t = parseFloat(t), e = isNaN(e) ? 0 : e, t = isNaN(t) ? 0 : t, e - t
    }, t = function (e) {
        return e.replace(/[^\-?0-9.]/g, "")
    }, i = function (e) {
        e = e.toLowerCase();
        var t = "i" === e[1] ? 1024 : 1e3;
        switch (e[0]) {
            case"k":
                return Math.pow(t, 2);
            case"m":
                return Math.pow(t, 3);
            case"g":
                return Math.pow(t, 4);
            case"t":
                return Math.pow(t, 5);
            case"p":
                return Math.pow(t, 6);
            case"e":
                return Math.pow(t, 7);
            case"z":
                return Math.pow(t, 8);
            case"y":
                return Math.pow(t, 9);
            default:
                return t
        }
    }, n = function (e) {
        var n = e.match(/^(\d+(\.\d+)?) ?((K|M|G|T|P|E|Z|Y|B$)i?B?)$/i), s = parseFloat(t(n[1])), o = n[3];
        return s * i(o)
    };
    Tablesort.extend("filesize", function (e) {
        return /^\d+(\.\d+)? ?(K|M|G|T|P|E|Z|Y|B$)i?B?$/i.test(e)
    }, function (t, i) {
        return t = n(t), i = n(i), e(i, t)
    })
}();
//# sourceMappingURL=cleantalk.min.js.map
